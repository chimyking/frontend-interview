<!DOCTYPE html>
<!-- saved from url=(0069)http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>珠峰架构师成长计划</title>
    <link rel="stylesheet" type="text/css" href="./61.7.devops-system_files/main.css">
<style type="text/css" abt="234"></style><script>//console.log('a')
</script><script>//remove 17173 video ad
doAdblock();
function doAdblock(){
    (function() {
        function A() {}
        A.prototype = {
            rules: {
                '17173_in':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFile(Customer)?\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_in_20150522.swf"
                },
                '17173_out':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFileFirstpage\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_out_20150522.swf"
                },
                '17173_live':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream(_firstpage)?\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_stream_20150522.swf"
                },
                '17173_live_out':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream_(custom)?Out\.swf/,
                    'replace':"http://swf.adtchrome.com/17173.out.Live.swf"
                }
            },
            _done: null,
            get done() {
                if(!this._done) {
                    this._done = new Array();
                }
                return this._done;
            },
            addAnimations: function() {
                var style = document.createElement('style');
                style.type = 'text/css';
                style.innerHTML = 'object,embed{\
                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;\
                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;\
                -o-animation-duration:.001s;-o-animation-name:playerInserted;\
                animation-duration:.001s;animation-name:playerInserted;}\
                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}';
                document.getElementsByTagName('head')[0].appendChild(style);
            },
            animationsHandler: function(e) {
                if(e.animationName === 'playerInserted') {
                    this.replace(e.target);
                }
            },
            replace: function(elem) {
                if(this.done.indexOf(elem) != -1) return;
                this.done.push(elem);
                var player = elem.data || elem.src;
                if(!player) return;
                var i, find, replace = false;
                for(i in this.rules) {
                    find = this.rules[i]['find'];
                    if(find.test(player)) {
                        replace = this.rules[i]['replace'];
                        if('function' === typeof this.rules[i]['preHandle']) {
                            this.rules[i]['preHandle'].bind(this, elem, find, replace, player)();
                        }else{
                            this.reallyReplace.bind(this, elem, find, replace)();
                        }
                        break;
                    }
                }
            },
            reallyReplace: function(elem, find, replace) {
                elem.data && (elem.data = elem.data.replace(find, replace)) || elem.src && ((elem.src = elem.src.replace(find, replace)) && (elem.style.display = 'block'));
                var b = elem.querySelector("param[name='movie']");
                this.reloadPlugin(elem);
            },
            reloadPlugin: function(elem) {
                var nextSibling = elem.nextSibling;
                var parentNode = elem.parentNode;
                parentNode.removeChild(elem);
                var newElem = elem.cloneNode(true);
                this.done.push(newElem);
                if(nextSibling) {
                    parentNode.insertBefore(newElem, nextSibling);
                } else {
                    parentNode.appendChild(newElem);
                }
            },
            init: function() {
                var handler = this.animationsHandler.bind(this);
                document.body.addEventListener('webkitAnimationStart', handler, false);
                document.body.addEventListener('msAnimationStart', handler, false);
                document.body.addEventListener('oAnimationStart', handler, false);
                document.body.addEventListener('animationstart', handler, false);
                this.addAnimations();
            }
        };
        new A().init();
    })();
}
//remove baidu search ad
if(document.URL.indexOf('www.baidu.com') >= 0){
    if(document && document.getElementsByTagName && document.getElementById && document.body){
        var aa = function(){
            var all = document.body.querySelectorAll("#content_left div,#content_left table");
            for(var i = 0; i < all.length; i++){
                if(/display:\s?(table|block)\s!important/.test(all[i].getAttribute("style"))){all[i].style.display= "none";all[i].style.visibility='hidden';}
            }
            all = document.body.querySelectorAll('.result.c-container[id="1"]');
            //if(all.length == 1) return;
            for(var i = 0; i < all.length; i++){
                if(all[i].innerHTML && all[i].innerHTML.indexOf('广告')>-1){
                    all[i].style.display= "none";all[i].style.visibility='hidden';
                }
            }
        }
        aa();
        document.getElementById('wrapper_wrapper').addEventListener('DOMSubtreeModified',aa)
    };
}
//remove sohu video ad
if (document.URL.indexOf("tv.sohu.com") >= 0){
    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
}
//remove 56.com video ad
if (document.URL.indexOf("56.com") >= 0){
    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
}
//fore iqiyi enable html5 player function
if (document.URL.indexOf("iqiyi.com") >= 0){
    if (document.cookie.indexOf("player_forcedType=h5_VOD")==-1){
        document.cookie='player_forcedType=h5_VOD'
        if(localStorage.reloadTime && Date.now() - parseInt(localStorage.reloadTime)<60000){
            console.log('no reload')
        }else{
            location.reload()
            localStorage.reloadTime = Date.now();
        }
    }
}
</script><style type="text/css">object,embed{                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;                -o-animation-duration:.001s;-o-animation-name:playerInserted;                animation-duration:.001s;animation-name:playerInserted;}                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}</style></head>
<body>
<div class="nav" style="height: 81px;">
    <div class="logo">
        
            珠峰架构师成长计划
        
    </div>
<ul><li><a href="http://www.zhufengpeixun.cn/architecture/index.html">0.Async</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/0.editor.html">0.editor</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/0.module.html">0.module</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/1.ES2015.html">1.ES2015</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/2.Promise.html">2.Promise</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/3.Node.html">3.Node</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/4.NodeInstall.html">4.NodeInstall</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/5.REPL.html">5.REPL</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/6.NodeCore.html">6.NodeCore</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/7.module&amp;NPM.html">7.module&amp;NPM</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/8.Encoding.html">8.Encoding</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/9.Buffer.html">9.Buffer</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/10.fs.html">10.fs</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/11.Stream-1.html">11.Stream-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/11.Stream-2.html">11.Stream-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/11.Stream-3.html">11.Stream-3</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/11.Stream-4.html">11.Stream-4</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/12-Network-2.html">12-Network-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/12.NetWork-3.html">12.NetWork-3</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/12.Network-1.html">12.Network-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/13.tcp.html">13.tcp</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/14.http-1.html">14.http-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/14.http-2.html">14.http-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/15.compress.html">15.compress</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/16.crypto.html">16.crypto</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/17.process.html">17.process</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/18.yargs.html">18.yargs</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/19.cache.html">19.cache</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/20.action.html">20.action</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/21.https.html">21.https</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/22.cookie.html">22.cookie</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/23.session.html">23.session</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/24.express-1.html">24.express-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/24.express-2.html">24.express-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/24.express-3.html">24.express-3</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/24.express-4.html">24.express-4</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/25.koa-1.html">25.koa-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-1-basic.html">26.webpack-1-basic</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-2-optimize.html">26.webpack-2-optimize</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-3.tapable.html">26.webpack-3.tapable</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-4-AST.html">26.webpack-4-AST</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-5-source.html">26.webpack-5-source</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-6-loader.html">26.webpack-6-loader</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-7-plugin.html">26.webpack-7-plugin</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/26.webpack-8-hand.html">26.webpack-8-hand</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/27.react-1.html">27.react-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/27.react-2.html">27.react-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/27.react-3.html">27.react-3</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/27.react-4-immutable.html">27.react-4-immutable</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/27.react-5-react-dom-diff.html">27.react-5-react-dom-diff</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/27.react-6.html">27.react-6</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/28.react-mobx.html">28.react-mobx</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/28.redux-0.html">28.redux-0</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/28.redux-1.html">28.redux-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/28.redux-2-%E4%B8%AD%E9%97%B4%E4%BB%B6.html">28.redux-2-中间件</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/28.redux-jwt-back.html">28.redux-jwt-back</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/28.redux-jwt-front.html">28.redux-jwt-front</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/29.mongodb-1.html">29.mongodb-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/29.mongodb-2.html">29.mongodb-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/29.mongodb-3.html">29.mongodb-3</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/29.mongodb-4.html">29.mongodb-4</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/29.mongodb-5.html">29.mongodb-5</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/29.mongodb-6.html">29.mongodb-6</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-1-mysql.html">30.cms-1-mysql</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-2-mysql.html">30.cms-2-mysql</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-3-mysql.html">30.cms-3-mysql</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-4-nunjucks.html">30.cms-4-nunjucks</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-5-mock.html">30.cms-5-mock</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-6-egg.html">30.cms-6-egg</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-7-api.html">30.cms-7-api</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-8-roadhog.html">30.cms-8-roadhog</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-9-yaml.html">30.cms-9-yaml</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-10-umi.html">30.cms-10-umi</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-11-saga.html">30.cms-11-saga</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-12-dva.html">30.cms-12-dva</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-13-dva-ant.html">30.cms-13-dva-ant</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-14-front.html">30.cms-14-front</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/30.cms-15-deploy.html">30.cms-15-deploy</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/31.dva.html">31.dva</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/31.saga.html">31.saga</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/33.redis.html">33.redis</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/34.unittest.html">34.unittest</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/35.jwt.html">35.jwt</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/36.websocket-1.html">36.websocket-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/36.websocket-2.html">36.websocket-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/38.chat-api-1.html">38.chat-api-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/38.chat-api-2.html">38.chat-api-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/38.chat-3.html">38.chat-3</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/38.chat-api-3.html">38.chat-api-3</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/38.chat.html">38.chat</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/38.chat2.html">38.chat2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/38.chat2.html">38.chat2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/39.crawl-0.html">39.crawl-0</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/39.crawl-1.html">39.crawl-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/39.crawl-2.html">39.crawl-2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/40.deploy.html">40.deploy</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/41.safe.html">41.safe</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/42.test.html">42.test</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/43.nginx.html">43.nginx</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/44.enzyme.html">44.enzyme</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/45.docker.html">45.docker</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/46.elastic.html">46.elastic</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/47.oauth.html">47.oauth</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/48.wxpay.html">48.wxpay</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/index.html">index</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/51.typescript.html">51.typescript</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/52.UML.html">52.UML</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/53.design.html">53.design</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/index.html">index</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/54.linux.html">54.linux</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/57.ts.html">57.ts</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/56.react-ssr.html">56.react-ssr</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/58.ts_react.html">58.ts_react</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/59.ketang.html">59.ketang</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/59.ketang2.html">59.ketang2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/60.react.html">60.react</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/60.react-1.html">60.react-1</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.1.devops-linux.html">61.1.devops-linux</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.2.devops-vi.html">61.2.devops-vi</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.3.devops-user.html">61.3.devops-user</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.4.devops-auth.html">61.4.devops-auth</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.5.devops-shell.html">61.5.devops-shell</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.6.devops-install.html">61.6.devops-install</a></li><li class="active"><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html">61.7.devops-system</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.8.devops-service.html">61.8.devops-service</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.9.devops-network.html">61.9.devops-network</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.10.devops-nginx.html">61.10.devops-nginx</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.11.devops-docker.html">61.11.devops-docker</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.12.devops-jekins.html">61.12.devops-jekins</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.13.devops-groovy.html">61.13.devops-groovy</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.14.devops-php.html">61.14.devops-php</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.15.devops-java.html">61.15.devops-java</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.16.devops-node.html">61.16.devops-node</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/62.1.react-basic.html">62.1.react-basic</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/62.2.react-state.html">62.2.react-state</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/62.3.react-high.html">62.3.react-high</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/62.4.react-hooks.html">62.4.react-hooks</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/63.1.redux.html">63.1.redux</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/63.2.redux-middleware.html">63.2.redux-middleware</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/63.3.redux-saga.html">63.3.redux-saga</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/63.4.redux-saga-hand.html">63.4.redux-saga-hand</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/64.1.router.html">64.1.router</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/64.2.router-connected.html">64.2.router-connected</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/65.1.typescript.html">65.1.typescript</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/65.2.typescript.html">65.2.typescript</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/65.3.typescript.html">65.3.typescript</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/65.4.antd.html">65.4.antd</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-1.vue-base.html">66-1.vue-base</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-2.vue-component.html">66-2.vue-component</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-3.vue-cli3.0.html">66-3.vue-cli3.0</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-4.$message%E7%BB%84%E4%BB%B6.html">66-4.$message组件</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-5.Form%E7%BB%84%E4%BB%B6.html">66-5.Form组件</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-6.tree.html">66-6.tree</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-7.vue-router-apply.html">66-7.vue-router-apply</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-8.axios-apply.html">66-8.axios-apply</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-9.vuex-apply.html">66-9.vuex-apply</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-10.jwt-vue.html">66-10.jwt-vue</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-11.vue-ssr.html">66-11.vue-ssr</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-12.nuxt-apply.html">66-12.nuxt-apply</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-13.pwa.html">66-13.pwa</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-14.vue%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html">66-14.vue单元测试</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/66-15.%E6%9D%83%E9%99%90%E6%A0%A1%E9%AA%8C.html">66-15.权限校验</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/67-1-network.html">67-1-network</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/68-2-wireshark.html">68-2-wireshark</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/7.npm2.html">7.npm2</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/31.cms-13-dva-antdesign.html">31.cms-13-dva-antdesign</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/69-hooks.html">69-hooks</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/70-deploy.html">70-deploy</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.17.devops-k8s.html">61.17.devops-k8s</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/60.react-2.html">60.react-2</a></li></ul></div>


<div class="warpper">

    <div class="page-toc">
        <ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t01.%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86">1. 进程管理</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t11.1%20%E8%BF%9B%E7%A8%8B">1.1 进程</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t21.2%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E7%AE%80%E4%BB%8B">1.2 进程管理简介</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t31.2%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4(ps)">1.2 进程的查看命令(ps)</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t41.2.1%20%E9%80%89%E9%A1%B9">1.2.1 选项</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t51.2.2%20%E7%BB%93%E6%9E%9C%E5%AD%97%E6%AE%B5%E5%90%AB%E4%B9%89">1.2.2 结果字段含义</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t61.2.3%20%20%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81(STAT)">1.2.3  进程状态(STAT)</a></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t71.3%20pstree">1.3 pstree</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t81.3%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%9F%A5%E7%9C%8B(top)">1.3 进程的查看(top)</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t91.3.1%20%E9%80%89%E9%A1%B9">1.3.1 选项</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t101.3.2%20%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%91%BD%E4%BB%A4">1.3.2 交互模式的命令</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t111.3.3%20%E7%8A%B6%E6%80%81%E6%A0%8F">1.3.3 状态栏</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t121.3.3.1%20%E7%AC%AC%E4%B8%80%E8%A1%8C%E4%B8%BA%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97%E4%BF%A1%E6%81%AF">1.3.3.1 第一行为任务队列信息</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t131.3.3.2%20%E7%AC%AC%E4%BA%8C%E8%A1%8C%E4%B8%BA%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF">1.3.3.2 第二行为进程信息</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t141.3.3.3%20%E7%AC%AC%E4%B8%89%E8%A1%8C%E4%B8%BACPU%E4%BF%A1%E6%81%AF">1.3.3.3 第三行为CPU信息</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t151.3.3.4%20%E7%AC%AC%E5%9B%9B%E8%A1%8C%E4%B8%BA%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E4%BF%A1%E6%81%AF">1.3.3.4 第四行为物理内存信息</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t161.3.3.5%20%E7%AC%AC%E5%9B%9B%E8%A1%8C%E4%B8%BA%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA%E4%BF%A1%E6%81%AF">1.3.3.5 第四行为交换分区信息</a></li></ul></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t171.4%20%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B(kill)">1.4 杀死进程(kill)</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t181.4.1%20%E8%BF%9B%E7%A8%8B%E4%BF%A1%E5%8F%B7">1.4.1 进程信号</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t191.4.2%20%E6%9D%80%E6%AD%BB%E5%8D%95%E4%B8%80%E8%BF%9B%E7%A8%8B">1.4.2 杀死单一进程</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t201.4.3%20killall">1.4.3 killall</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t211.4.4%20pkill">1.4.4 pkill</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t221.4.5%20w">1.4.5 w</a></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t231.5%20%E4%BF%AE%E6%94%B9%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7">1.5 修改进程优先级</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t241.5.1%20%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7">1.5.1 进程优先级</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t251.5.2%20%E4%BF%AE%E6%94%B9%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7">1.5.2 修改进程优先级</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t261.5.3%20nice">1.5.3 nice</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t271.5.4%20renice">1.5.4 renice</a></li></ul></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t282.%20%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86">2. 工作管理</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t292.1%20%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86(jobs)">2.1 工作管理(jobs)</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t302.2%20%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95">2.2 工作管理方法</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t312.2.1%20%E6%8A%8A%E8%BF%9B%E7%A8%8B%E6%94%BE%E5%85%A5%E5%90%8E%E5%8F%B0">2.2.1 把进程放入后台</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t322.2.2%20%E6%9F%A5%E7%9C%8B%E5%90%8E%E5%8F%B0%E7%9A%84%E5%B7%A5%E4%BD%9C">2.2.2 查看后台的工作</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t332.2.3%20%E6%81%A2%E5%A4%8D%E5%88%B0%E5%89%8D%E5%8F%B0">2.2.3 恢复到前台</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t342.2.4%20%E6%81%A2%E5%A4%8D%E5%88%B0%E5%90%8E%E5%8F%B0">2.2.4 恢复到后台</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t352.2.3%20%E5%90%8E%E5%8F%B0%E5%91%BD%E4%BB%A4%E8%84%B1%E7%A6%BB%E7%BB%88%E7%AB%AF">2.2.3 后台命令脱离终端</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t362.2.3.1%20rc.local">2.2.3.1 rc.local</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t372.2.3.2%20%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1">2.2.3.2 定时任务</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t382.2.3.3%20rc.local">2.2.3.3 rc.local</a></li></ul></li></ul></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t393.%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E6%9F%A5%E7%9C%8B">3. 系统资源查看</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t403.1%20vmstat">3.1 vmstat</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t413.1.1%20(procs)%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5">3.1.1 (procs)进程信息字段</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t423.1.2%20memory(%E5%86%85%E5%AD%98%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5)">3.1.2 memory(内存信息字段)</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t433.1.3%20swap(%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA%E4%BF%A1%E6%81%AF)">3.1.3 swap(交换分区信息)</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t443.1.4%20io(%E7%A3%81%E7%9B%98%E8%AF%BB%E5%86%99)">3.1.4 io(磁盘读写)</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t453.1.5%20system(%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5)">3.1.5 system(系统信息字段)</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t463.1.6%20CPU(CPU%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5)">3.1.6 CPU(CPU信息字段)</a></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t473.2%20dmesg">3.2 dmesg</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t483.3%20free">3.3 free</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t493.3.1%20%E7%AC%AC%E4%B8%80%E8%A1%8C">3.3.1 第一行</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t503.3.2%20%E7%AC%AC%E4%BA%8C%E8%A1%8C">3.3.2 第二行</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t513.3.3%20%E7%AC%AC%E4%B8%89%E8%A1%8C">3.3.3 第三行</a></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t523.4%20cpuinfo">3.4 cpuinfo</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t533.5%20uptime">3.5 uptime</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t543.6%20%E6%9F%A5%E7%9C%8B%E5%86%85%E6%A0%B8%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">3.6 查看内核相关信息</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t553.7%20%E6%9F%A5%E7%9C%8B%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BD%8D%E6%95%B0">3.7 查看操作系统位数</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t563.8%20%E6%9F%A5%E7%9C%8B%E5%8F%91%E8%A1%8C%E7%89%88%E6%9C%AC">3.8 查看发行版本</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t573.9%20%E6%9F%A5%E7%9C%8B%E5%8F%91%E8%A1%8C%E7%89%88%E6%9C%AC">3.9 查看发行版本</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t583.10%20%E5%88%97%E8%A1%A8%E8%BF%9B%E7%A8%8B%E6%89%93%E5%BC%80%E6%88%96%E4%BD%BF%E7%94%A8%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF">3.10 列表进程打开或使用文件信息</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t593.10.1%20%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E8%B0%83%E7%94%A8%E7%9A%84%E6%96%87%E4%BB%B6">3.10.1 查看系统中所有进程调用的文件</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t603.10.2%20%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E6%96%87%E4%BB%B6%E6%98%AF%E8%A2%AB%E5%93%AA%E4%B8%AA%E8%BF%9B%E7%A8%8B%E8%B0%83%E7%94%A8">3.10.2 查看某个文件是被哪个进程调用</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t613.10.3%20%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E8%BF%9B%E7%A8%8B%E8%B0%83%E7%94%A8%E4%BA%86%E5%93%AA%E4%BA%9B%E6%96%87%E4%BB%B6">3.10.3 查看某个进程调用了哪些文件</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t623.10.4%20%E6%9F%A5%E8%AF%A2%E6%9F%90%E4%B8%AA%E7%94%A8%E6%88%B7%E8%B0%83%E7%94%A8%E4%BA%86%E5%93%AA%E4%BA%9B%E6%96%87%E4%BB%B6">3.10.4 查询某个用户调用了哪些文件</a></li></ul></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t634.%20%E7%B3%BB%E7%BB%9F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1">4. 系统定时任务</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t644.1%20at">4.1 at</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t654.1.1%20%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1">4.1.1 启动服务</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t664.1.2%20at%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6">4.1.2 at的访问控制</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t674.1.3%20at%E5%91%BD%E4%BB%A4">4.1.3 at命令</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t684.1.4%20atq">4.1.4 atq</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t694.1.5%20atrm">4.1.5 atrm</a></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t704.2%20crontab">4.2 crontab</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t714.2.2%20at%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6">4.2.2 at的访问控制</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t724.2.3%20crontab%E8%AE%BE%E7%BD%AE">4.2.3 crontab设置</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t734.2.3.1%20%E8%AF%AD%E6%B3%95">4.2.3.1 语法</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t744.2.3.2%20%E4%BD%8D%E7%BD%AE">4.2.3.2 位置</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t754.2.3.3%20%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7">4.2.3.3 特殊符号</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t764.2.3.4%20%E6%A1%88%E4%BE%8B">4.2.3.4 案例</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t774.2.3.5%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">4.2.3.5 注意事项</a></li></ul></li></ul></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t784.3%20%E7%B3%BB%E7%BB%9F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1">4.3 系统定时任务</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t794.3.1%20/etc/crontab">4.3.1 /etc/crontab</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t804.3.2%20/etc/cron">4.3.2 /etc/cron</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t814.4%20anacron%E9%85%8D%E7%BD%AE">4.4 anacron配置</a><ul><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t824.4.1%20/etc/anacrontab">4.4.1 /etc/anacrontab</a></li><li><a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t834.4.2%20cron.daily%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B">4.4.2 cron.daily执行过程</a></li></ul></li></ul></li></ul>
    </div>
    
    <div class="content markdown-body">
        <h2 id="t01. 进程管理">1. 进程管理 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t01.%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"> # </a></h2>
<h3 id="t11.1 进程">1.1 进程 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t11.1%20%E8%BF%9B%E7%A8%8B"> # </a></h3>
<ul>
<li>进程是正在执行的一个程序或命令，每一个进程都是一个运行的实体，都有自己的地址空间并且用一定的系统资源</li>
<li>进程就是正在执行的某个程序</li>
</ul>
<h3 id="t21.2 进程管理简介">1.2 进程管理简介 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t21.2%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E7%AE%80%E4%BB%8B"> # </a></h3>
<ul>
<li>判断服务器的状态</li>
<li>查看系统中的所有进程</li>
<li>杀死进程，只有无法关闭才要杀死进程</li>
</ul>
<h3 id="t31.2 进程的查看命令(ps)">1.2 进程的查看命令(ps) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t31.2%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4(ps)"> # </a></h3>
<ul>
<li><code>ps aux</code>  查看系统中所有进程，使用BSD操作系统格式</li>
<li><code>ps -le</code> 查看系统中所有进程，使用Linux标准格式</li>
<li>TTY是TeleType的一个缩写，原来指的是电传打字机，是通过串行线用打印机键盘通过阅读和发送信息的东西</li>
<li>pts(pseudo['su:doʊ]-terminal slave)是所谓的伪终端或虚拟终端</li>
</ul>
<h4 id="t41.2.1 选项">1.2.1 选项 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t41.2.1%20%E9%80%89%E9%A1%B9"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-a</td>
<td style="text-align:left">显示一个终端的所有进程</td>
</tr>
<tr>
<td style="text-align:left">-u</td>
<td style="text-align:left">显示进程的归属用户及内存的使用情况</td>
</tr>
<tr>
<td style="text-align:left">-x</td>
<td style="text-align:left">显示没有控制终端的进程</td>
</tr>
<tr>
<td style="text-align:left">-l</td>
<td style="text-align:left">长格式显示，显示更详细的信息</td>
</tr>
</tbody>
</table>
<h4 id="t51.2.2 结果字段含义">1.2.2 结果字段含义 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t51.2.2%20%E7%BB%93%E6%9E%9C%E5%AD%97%E6%AE%B5%E5%90%AB%E4%B9%89"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">数据</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">该进程是由哪个用户创建的</td>
</tr>
<tr>
<td style="text-align:left">PID</td>
<td style="text-align:left">进程的ID号</td>
</tr>
<tr>
<td style="text-align:left">%CPU</td>
<td style="text-align:left">该进程占用CPU资源的百分比，占用越高说明越消耗系统资源</td>
</tr>
<tr>
<td style="text-align:left">%MEM</td>
<td style="text-align:left">该进程占用物理内存的百分比，占用越高说明越消耗系统资源</td>
</tr>
<tr>
<td style="text-align:left">VSZ</td>
<td style="text-align:left">该进程占用虚拟内存的百分比，单位是KB</td>
</tr>
<tr>
<td style="text-align:left">RSS</td>
<td style="text-align:left">该进程占用实际物理内存大小，单位是KB</td>
</tr>
<tr>
<td style="text-align:left">TTY</td>
<td style="text-align:left">该进程在哪个终端中运行。tty1~tty7表示本地控制终端，tty1~tty6是字符终端，tty7是图形终端。pts/0~255代表虚拟终端，?表示此终端是系统启动的</td>
</tr>
<tr>
<td style="text-align:left">STAT</td>
<td style="text-align:left">进程状态</td>
</tr>
<tr>
<td style="text-align:left">START</td>
<td style="text-align:left">该进程的启动时间</td>
</tr>
<tr>
<td style="text-align:left">TIME</td>
<td style="text-align:left">该进程占用CPU的运算时间,数值越高说明越消耗系统资源</td>
</tr>
<tr>
<td style="text-align:left">COMMAND</td>
<td style="text-align:left">产生此进程的命令名</td>
</tr>
</tbody>
</table>
<h4 id="t61.2.3  进程状态(STAT)">1.2.3  进程状态(STAT) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t61.2.3%20%20%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81(STAT)"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">R(Runing)</td>
<td style="text-align:left">运行</td>
</tr>
<tr>
<td style="text-align:left">S(Sleep)</td>
<td style="text-align:left">休眠</td>
</tr>
<tr>
<td style="text-align:left">T(Terminated)</td>
<td style="text-align:left">停止</td>
</tr>
<tr>
<td style="text-align:left">S(Son)</td>
<td style="text-align:left">包含子进程</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">位于后台</td>
</tr>
</tbody>
</table>
<h3 id="t71.3 pstree">1.3 pstree <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t71.3%20pstree"> # </a></h3>
<ul>
<li>pstree [选项]<ul>
<li>-p 显示进程PID</li>
<li>-u 显示进程的所属用户</li>
</ul>
</li>
</ul>
<h3 id="t81.3 进程的查看(top)">1.3 进程的查看(top) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t81.3%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%9F%A5%E7%9C%8B(top)"> # </a></h3>
<ul>
<li>top </li>
</ul>
<pre><code class="lang-js"> top -b -n <span class="hljs-number">1</span> &gt; top.txt
</code></pre>
<h4 id="t91.3.1 选项">1.3.1 选项 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t91.3.1%20%E9%80%89%E9%A1%B9"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">选项</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-b</td>
<td style="text-align:left">使用批处理模式输出，一般和<code>-n</code>配合使用</td>
</tr>
<tr>
<td style="text-align:left">-n</td>
<td style="text-align:left">次数，指定top命令执行的次数。一般了<code>-b</code>选项配合使用</td>
</tr>
<tr>
<td style="text-align:left">-d</td>
<td style="text-align:left">秒数，指定top命令每隔几秒更新。默认是3秒</td>
</tr>
</tbody>
</table>
<h4 id="t101.3.2 交互模式的命令">1.3.2 交互模式的命令 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t101.3.2%20%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%91%BD%E4%BB%A4"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">选项</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">?或h</td>
<td style="text-align:left">显示交互模式的帮助</td>
</tr>
<tr>
<td style="text-align:left">P</td>
<td style="text-align:left">按CPU使用率排序，默认就是此选项</td>
</tr>
<tr>
<td style="text-align:left">M</td>
<td style="text-align:left">以内存的使用率排序</td>
</tr>
<tr>
<td style="text-align:left">N</td>
<td style="text-align:left">以PID排序</td>
</tr>
<tr>
<td style="text-align:left">q</td>
<td style="text-align:left">退出top</td>
</tr>
</tbody>
</table>
<h4 id="t111.3.3 状态栏">1.3.3 状态栏 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t111.3.3%20%E7%8A%B6%E6%80%81%E6%A0%8F"> # </a></h4>
<h5 id="t121.3.3.1 第一行为任务队列信息">1.3.3.1 第一行为任务队列信息 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t121.3.3.1%20%E7%AC%AC%E4%B8%80%E8%A1%8C%E4%B8%BA%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97%E4%BF%A1%E6%81%AF"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">内容</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">12:12:12</td>
<td style="text-align:left">系统的当前时间</td>
</tr>
<tr>
<td style="text-align:left">up 1 day 5:33</td>
<td style="text-align:left">系统的运行时间，本机已经运行了1天5小时33分</td>
</tr>
<tr>
<td style="text-align:left">2 users</td>
<td style="text-align:left">当前登录了二个客户端</td>
</tr>
<tr>
<td style="text-align:left">load average 0 0 0</td>
<td style="text-align:left">系统在之前1分钟、5分钟、15分钟的平均负载。一般认为小于1小时负载较小，大于1超过负载</td>
</tr>
</tbody>
</table>
<h5 id="t131.3.3.2 第二行为进程信息">1.3.3.2 第二行为进程信息 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t131.3.3.2%20%E7%AC%AC%E4%BA%8C%E8%A1%8C%E4%B8%BA%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">内容</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Tasks: 100 total</td>
<td style="text-align:left">系统中的进程总数</td>
</tr>
<tr>
<td style="text-align:left">1 running</td>
<td style="text-align:left">正在运行的进程数</td>
</tr>
<tr>
<td style="text-align:left">94 sleeping</td>
<td style="text-align:left">睡眠的进程</td>
</tr>
<tr>
<td style="text-align:left">0 stopped</td>
<td style="text-align:left">正在停止的进程</td>
</tr>
<tr>
<td style="text-align:left">0 zombie</td>
<td style="text-align:left">僵尸进程。如果不是0的话要进行检查</td>
</tr>
</tbody>
</table>
<h5 id="t141.3.3.3 第三行为CPU信息">1.3.3.3 第三行为CPU信息 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t141.3.3.3%20%E7%AC%AC%E4%B8%89%E8%A1%8C%E4%B8%BACPU%E4%BF%A1%E6%81%AF"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">内容</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Cpu(s): 0.1%us</td>
<td style="text-align:left">用户模式占用的CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">0.1%sy</td>
<td style="text-align:left">系统模式占用的CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">0.0%ni</td>
<td style="text-align:left">改变过优先级的用户进程 占用的CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">99.7%id</td>
<td style="text-align:left">空闲CPU的CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">0.1%wa</td>
<td style="text-align:left">等待输入/输出的进程的占用CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">0.1%hi</td>
<td style="text-align:left">硬中断请求服务占用的CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">0.1%si</td>
<td style="text-align:left">软中断请求服务占用的CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">0.0%st</td>
<td style="text-align:left">st(Steal time)虚拟时间百分比，就是当有</td>
</tr>
</tbody>
</table>
<ul>
<li>硬中断 由与系统相连的外设(比如网卡、硬盘)自动产生的。主要是用来通知操作系统系统外设状态的变化。比如当网卡收到数据包的时候，就会发出一个中断。我们通常所说的中断指的是硬中断(hardirq)。</li>
<li><p>软中断是通讯进程之间用来模拟硬中断的 一种信号通讯方式,软中断是执行中断指令产生的，无面外部施加中断请求信号，因此中断的发生不是随机的而是由程序安排好的。</p>
</li>
<li><p>硬中断是可屏蔽的，软中断不可屏蔽。软中断是由程序调用发生的,而硬中断是由外设引发的</p>
</li>
</ul>
<h5 id="t151.3.3.4 第四行为物理内存信息">1.3.3.4 第四行为物理内存信息 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t151.3.3.4%20%E7%AC%AC%E5%9B%9B%E8%A1%8C%E4%B8%BA%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E4%BF%A1%E6%81%AF"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">内容</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Mem:   1030720k total</td>
<td style="text-align:left">物理内存的问题，单位是KB</td>
</tr>
<tr>
<td style="text-align:left">551860k used</td>
<td style="text-align:left">已经使用的物理内存数量</td>
</tr>
<tr>
<td style="text-align:left">478860k free</td>
<td style="text-align:left">空闲的物理内存数量，虚拟机分配了1024M内存，使用了538M,空闲467M</td>
</tr>
<tr>
<td style="text-align:left">43180k buffers</td>
<td style="text-align:left">作为缓冲的内存数量，可以存放需要写入硬盘的数据，用来加速数据的写入</td>
</tr>
</tbody>
</table>
<h5 id="t161.3.3.5 第四行为交换分区信息">1.3.3.5 第四行为交换分区信息 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t161.3.3.5%20%E7%AC%AC%E5%9B%9B%E8%A1%8C%E4%B8%BA%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA%E4%BF%A1%E6%81%AF"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">内容</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Swap:  2047992k total</td>
<td style="text-align:left">总计的交换分区(虚拟内存)大小</td>
</tr>
<tr>
<td style="text-align:left">536k used</td>
<td style="text-align:left">已经使用的交换分区大小</td>
</tr>
<tr>
<td style="text-align:left">2047456k free</td>
<td style="text-align:left">空闲的交换分区大小</td>
</tr>
<tr>
<td style="text-align:left">368164k cached</td>
<td style="text-align:left">把需要经常读取的数据从硬盘读到内存中，加速了数据的读取</td>
</tr>
</tbody>
</table>
<h3 id="t171.4 杀死进程(kill)">1.4 杀死进程(kill) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t171.4%20%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B(kill)"> # </a></h3>
<h4 id="t181.4.1 进程信号">1.4.1 进程信号 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t181.4.1%20%E8%BF%9B%E7%A8%8B%E4%BF%A1%E5%8F%B7"> # </a></h4>
<ul>
<li>httpd采用的是worker模式，是一种多进程与多线程混合的模式</li>
<li><code>kill -l</code> 查看可用的进程信号</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">信号 代码</th>
<th style="text-align:left">信号名称</th>
<th style="text-align:left">说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">SIGHUP</td>
<td style="text-align:left">该信号让进程立即关闭，然后重写读取配置文件后重启,平滑重启</td>
<td>kill -1 -HUP 进程号</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">SIGINT</td>
<td style="text-align:left">程序终止信号，用于关闭前台进程,相当于ctrl+c</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">9</td>
<td style="text-align:left">SIGKILL</td>
<td style="text-align:left">用来立刻结束程序的运行，本信号不能阻塞、处理和忽略，一般用于强制中止</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">15</td>
<td style="text-align:left">SIGTERM</td>
<td style="text-align:left">正常结束进程的信号，kill命令的默认信号。如果不能正常中止，才会尝试SIGKILL信号</td>
</tr>
</tbody>
</table>
<h4 id="t191.4.2 杀死单一进程">1.4.2 杀死单一进程 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t191.4.2%20%E6%9D%80%E6%AD%BB%E5%8D%95%E4%B8%80%E8%BF%9B%E7%A8%8B"> # </a></h4>
<pre><code class="lang-js">kill <span class="hljs-number">-9</span> 进程号
</code></pre>
<h4 id="t201.4.3 killall">1.4.3 killall <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t201.4.3%20killall"> # </a></h4>
<ul>
<li>按照进程名杀死进程</li>
<li>killall [选项][信号] 进程名<ul>
<li>-i 交互式，询问是否要杀死某个进程</li>
<li>-I 进程名忽略大小写</li>
</ul>
</li>
<li>/etc/httpd/conf/httpd.conf<ul>
<li>ServerName localhost:80</li>
</ul>
</li>
</ul>
<h4 id="t211.4.4 pkill">1.4.4 pkill <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t211.4.4%20pkill"> # </a></h4>
<ul>
<li>按照进程名杀死进程</li>
<li>pkill [选项][信号] 进程名
-t 按终端号踢出用户</li>
</ul>
<pre><code class="lang-js">pkill <span class="hljs-number">-9</span> -t <span class="hljs-string">"pts/2"</span>
</code></pre>
<h4 id="t221.4.5 w">1.4.5 w <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t221.4.5%20w"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">选项</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">显示登陆用户帐号名</td>
</tr>
<tr>
<td style="text-align:left">TTY</td>
<td style="text-align:left">用户登陆所用的终端</td>
</tr>
<tr>
<td style="text-align:left">FROM</td>
<td style="text-align:left">显示用户在何处登陆系统</td>
</tr>
<tr>
<td style="text-align:left">LOGIN@</td>
<td style="text-align:left">是LOGIN AT的意思，表示登陆进入系统的时间</td>
</tr>
<tr>
<td style="text-align:left">IDLE</td>
<td style="text-align:left">用户空闲时间，从用户上一次任务结束后，开始记时</td>
</tr>
<tr>
<td style="text-align:left">JCPU</td>
<td style="text-align:left">终端代号来区分，表示在这段时间内，所有与该终端相关的进程任务所耗费的CPU时间</td>
</tr>
<tr>
<td style="text-align:left">PCPU</td>
<td style="text-align:left">指WHAT域的任务执行后耗费的CPU时间</td>
</tr>
<tr>
<td style="text-align:left">WHAT</td>
<td style="text-align:left">表示当前执行的任务</td>
</tr>
</tbody>
</table>
<h3 id="t231.5 修改进程优先级">1.5 修改进程优先级 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t231.5%20%E4%BF%AE%E6%94%B9%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"> # </a></h3>
<h4 id="t241.5.1 进程优先级">1.5.1 进程优先级 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t241.5.1%20%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"> # </a></h4>
<ul>
<li>Linux操作系统是一个多用户、多任务的操作系统，Linux系统同时管理着非常多的进程，但是CPU在同一个时间周期内只能运算一个指令</li>
<li>进程的优先级决定了每个进程处理的先后顺序</li>
</ul>
<h4 id="t251.5.2 修改进程优先级">1.5.2 修改进程优先级 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t251.5.2%20%E4%BF%AE%E6%94%B9%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"> # </a></h4>
<ul>
<li><code>ps -le</code> 可以查看进程优先级</li>
<li>PRI表示Priority,NI表示Nice。这两个值都是优先级，数字越小代理进程优先有越高</li>
<li>NI的值范围是-20~19</li>
<li>普通用户调整NI值的范围是0~19,而且只能调整自己的进程</li>
<li>普通用户只能调高NI值，但不能调低。比如原来是0，则只能调为大于0的数字</li>
<li>root用户才能设定进程NI值为负值，而且可以调整任何用户的进程</li>
<li>PRI(最终值)=PRI(原始值)+NI</li>
<li>用户只能修改NI的值，不能直接修改PRI的值</li>
</ul>
<h4 id="t261.5.3 nice">1.5.3 nice <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t261.5.3%20nice"> # </a></h4>
<ul>
<li>nice命令可以给新执行的命令直接赋NI值，但不能修改已经存在进程的NI值</li>
<li>nice [选项] 命令</li>
<li>选项
-n NI值 给命令赋新的NI值 </li>
</ul>
<pre><code class="lang-js">nice -n <span class="hljs-number">-5</span> service httpd start
</code></pre>
<h4 id="t271.5.4 renice">1.5.4 renice <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t271.5.4%20renice"> # </a></h4>
<ul>
<li>修改已经存在的进程的NI的值</li>
<li>renice [优先级] PID</li>
</ul>
<pre><code class="lang-js">renice -10 30054
0054: old priority -5, new priority -10
# ps -le | grep httpd
1 S     0 30054     1  0  70 -10 -  2792 -      ?        00:00:00 httpd
5 S    48 30055 30054  0  75  -5 -  2792 -      ?        00:00:00 httpd
</code></pre>
<h2 id="t282. 工作管理">2. 工作管理 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t282.%20%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86"> # </a></h2>
<h3 id="t292.1 工作管理(jobs)">2.1 工作管理(jobs) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t292.1%20%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86(jobs)"> # </a></h3>
<ul>
<li>工作管理就是指的是单个登录终端中同时管理多个工作的行为</li>
<li>有时候有些命令会卡住我们的操作界面，我们就需要把它放入后台，比如拷贝大型文件</li>
<li>当前的登录终端只能管理当前终端的工作，而不能管理其它终端工作</li>
<li>放入后台的命令必须是还要持续一段时间的，这样我们才能去捕捉和操作这个动作</li>
<li>放入后台的命令不能和前台用户有交互或者需要前台输入，否则放入后台只能暂停，而不会执行</li>
</ul>
<h3 id="t302.2 工作管理方法">2.2 工作管理方法 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t302.2%20%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95"> # </a></h3>
<h4 id="t312.2.1 把进程放入后台">2.2.1 把进程放入后台 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t312.2.1%20%E6%8A%8A%E8%BF%9B%E7%A8%8B%E6%94%BE%E5%85%A5%E5%90%8E%E5%8F%B0"> # </a></h4>
<ul>
<li><code>&amp;</code> 在命令后面加可以把命令放入后台，并在后台执行</li>
<li><code>ctrl+z</code> 把工作放在后台暂停</li>
</ul>
<h4 id="t322.2.2 查看后台的工作">2.2.2 查看后台的工作 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t322.2.2%20%E6%9F%A5%E7%9C%8B%E5%90%8E%E5%8F%B0%E7%9A%84%E5%B7%A5%E4%BD%9C"> # </a></h4>
<ul>
<li>jobs <ul>
<li>-l 显示工作的PID</li>
</ul>
</li>
<li>加号代表最近一个放入后台的工作，也就工作恢复时默认恢复的工作</li>
<li>减号代表倒数第二个放入后台的工作</li>
</ul>
<pre><code class="lang-js">[1]+  Stopped                 top
# jobs -l
[1]+ 30562 停止 (信号)         top

# sleep 100s
^Z
[2]+  Stopped                 sleep 100s
# jobs -l
[1]- 30562 停止 (信号)         top
[2]+ 30588 停止                  sleep 100s

vim hello.txt &amp;

find / -name hello
</code></pre>
<h4 id="t332.2.3 恢复到前台">2.2.3 恢复到前台 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t332.2.3%20%E6%81%A2%E5%A4%8D%E5%88%B0%E5%89%8D%E5%8F%B0"> # </a></h4>
<ul>
<li>fg %工作号  <ul>
<li>-%工作号 %可以省略，注意工作号和PID是不同的</li>
</ul>
</li>
</ul>
<h4 id="t342.2.4 恢复到后台">2.2.4 恢复到后台 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t342.2.4%20%E6%81%A2%E5%A4%8D%E5%88%B0%E5%90%8E%E5%8F%B0"> # </a></h4>
<ul>
<li>bg %工作号  <ul>
<li>-%工作号 %可以省略，注意工作号和PID是不同的</li>
</ul>
</li>
<li>后台恢复执行的命令，不能和前台有交互  </li>
</ul>
<pre><code class="lang-js"># bg 2
[2]+ sleep 100s &amp;
# jobs -l
[1]+ 30562 停止 (信号)         top
[2]- 30601 Running                 sleep 100s &amp;
</code></pre>
<h4 id="t352.2.3 后台命令脱离终端">2.2.3 后台命令脱离终端 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t352.2.3%20%E5%90%8E%E5%8F%B0%E5%91%BD%E4%BB%A4%E8%84%B1%E7%A6%BB%E7%BB%88%E7%AB%AF"> # </a></h4>
<ul>
<li>所有的后台程序默认跟终端绑定，终端消失后台程序也会退出</li>
<li>当终端退出的时候，系统会向终端里所有的进程发送一个<code>SIGHUB</code>的信号,终止后台进程</li>
</ul>
<h5 id="t362.2.3.1 rc.local">2.2.3.1 rc.local <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t362.2.3.1%20rc.local"> # </a></h5>
<ul>
<li>把需要后台执行的命令加入到<code>/etc/rc.local</code>文件中</li>
</ul>
<h5 id="t372.2.3.2 定时任务">2.2.3.2 定时任务 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t372.2.3.2%20%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"> # </a></h5>
<ul>
<li>使用系统定时任务，让系统在指定的时间执行某个后台命令</li>
</ul>
<h5 id="t382.2.3.3 rc.local">2.2.3.3 rc.local <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t382.2.3.3%20rc.local"> # </a></h5>
<ul>
<li>使用<code>nohub</code>命令</li>
<li>nohup [命令] &amp;</li>
</ul>
<p>sleep.sh</p>
<pre><code class="lang-js"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-keyword">for</span>((i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10000</span>;i++))
<span class="hljs-keyword">do</span>
   echo <span class="hljs-string">`date`</span> &gt;&gt; <span class="hljs-regexp">/root/</span>date.log
   sleep <span class="hljs-number">1</span>s
done
</code></pre>
<pre><code class="lang-js">nohup ./sleep.sh &amp;
tail -f /root/date.log 
ps -ef | grep sleep.sh
</code></pre>
<h2 id="t393. 系统资源查看">3. 系统资源查看 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t393.%20%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E6%9F%A5%E7%9C%8B"> # </a></h2>
<h3 id="t403.1 vmstat">3.1 vmstat <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t403.1%20vmstat"> # </a></h3>
<ul>
<li>监控系统资源使用状态</li>
<li>vmstat [刷新延时 刷新次数]</li>
</ul>
<pre><code class="lang-js">vmstat <span class="hljs-number">1</span> <span class="hljs-number">3</span>
procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   <span class="hljs-keyword">in</span>   cs us sy id wa st
 <span class="hljs-number">1</span>  <span class="hljs-number">0</span>    <span class="hljs-number">532</span> <span class="hljs-number">329932</span>  <span class="hljs-number">99388</span> <span class="hljs-number">459768</span>    <span class="hljs-number">0</span>    <span class="hljs-number">0</span>    <span class="hljs-number">16</span>    <span class="hljs-number">81</span>   <span class="hljs-number">59</span>   <span class="hljs-number">50</span>  <span class="hljs-number">3</span>  <span class="hljs-number">1</span> <span class="hljs-number">96</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>    
</code></pre>
<h4 id="t413.1.1 (procs)进程信息字段">3.1.1 (procs)进程信息字段 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t413.1.1%20(procs)%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">procs</td>
<td style="text-align:left">r</td>
<td style="text-align:left">等待运行的进程数，数量越大，系统就越繁忙</td>
</tr>
<tr>
<td style="text-align:left">procs</td>
<td style="text-align:left">b</td>
<td style="text-align:left">不可被唤醒的进程数量，数量越大，系统越繁忙</td>
</tr>
</tbody>
</table>
<h4 id="t423.1.2 memory(内存信息字段)">3.1.2 memory(内存信息字段) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t423.1.2%20memory(%E5%86%85%E5%AD%98%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5)"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">memory</td>
<td style="text-align:left">swpd</td>
<td style="text-align:left">使用的Swap空间的大小，单位KB</td>
</tr>
<tr>
<td style="text-align:left">memory</td>
<td style="text-align:left">free</td>
<td style="text-align:left">空闲的内存容量，单位KB</td>
</tr>
<tr>
<td style="text-align:left">memory</td>
<td style="text-align:left">buff</td>
<td style="text-align:left">缓冲的内存容量，单位KB</td>
</tr>
<tr>
<td style="text-align:left">memory</td>
<td style="text-align:left">cache</td>
<td style="text-align:left">缓存的内存容量，单位KB</td>
</tr>
</tbody>
</table>
<h4 id="t433.1.3 swap(交换分区信息)">3.1.3 swap(交换分区信息) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t433.1.3%20swap(%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA%E4%BF%A1%E6%81%AF)"> # </a></h4>
<ul>
<li>如果说si和so数越大说明数据经常要在磁盘和内存之间数据交换，系统性能就会越差</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">swap</td>
<td style="text-align:left">si(in)</td>
<td style="text-align:left">从磁盘中交换到内存中的数据的数量，单位KB</td>
</tr>
<tr>
<td style="text-align:left">swap</td>
<td style="text-align:left">so(out)</td>
<td style="text-align:left">从内存中交换到硬盘中的数据的数量，单位KB</td>
</tr>
</tbody>
</table>
<h4 id="t443.1.4 io(磁盘读写)">3.1.4 io(磁盘读写) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t443.1.4%20io(%E7%A3%81%E7%9B%98%E8%AF%BB%E5%86%99)"> # </a></h4>
<ul>
<li>bi和bo数越大，说明磁盘的I/O越繁忙</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">io</td>
<td style="text-align:left">bi(in)</td>
<td style="text-align:left">从块设备读入数据的问题，单位是块</td>
</tr>
<tr>
<td style="text-align:left">io</td>
<td style="text-align:left">bo(out)</td>
<td style="text-align:left">写到块设备的数据的总量，单位是块</td>
</tr>
</tbody>
</table>
<h4 id="t453.1.5 system(系统信息字段)">3.1.5 system(系统信息字段) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t453.1.5%20system(%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5)"> # </a></h4>
<ul>
<li>in和cs数越大，说明系统与接口设备的通信越繁忙</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">system</td>
<td style="text-align:left">in(interrupt)</td>
<td style="text-align:left">每秒被中断的进程次数</td>
</tr>
<tr>
<td style="text-align:left">system</td>
<td style="text-align:left">cs(switch)</td>
<td style="text-align:left">每秒钟进行的事件切换次数</td>
</tr>
</tbody>
</table>
<h4 id="t463.1.6 CPU(CPU信息字段)">3.1.6 CPU(CPU信息字段) <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t463.1.6%20CPU(CPU%E4%BF%A1%E6%81%AF%E5%AD%97%E6%AE%B5)"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CPU</td>
<td style="text-align:left">us(user)</td>
<td style="text-align:left">非内核进程消耗CPU运算时间的百分比</td>
</tr>
<tr>
<td style="text-align:left">CPU</td>
<td style="text-align:left">sy(system)</td>
<td style="text-align:left">内核进程消耗CPU运算时间的百分比</td>
</tr>
<tr>
<td style="text-align:left">CPU</td>
<td style="text-align:left">id(idea)</td>
<td style="text-align:left">空闲CPU的百分比</td>
</tr>
<tr>
<td style="text-align:left">CPU</td>
<td style="text-align:left">wa(wait)</td>
<td style="text-align:left">等待I/O所消耗的CPU百分比</td>
</tr>
<tr>
<td style="text-align:left">CPU</td>
<td style="text-align:left">st(steal)</td>
<td style="text-align:left">被虚拟机偷走的CPU百分比</td>
</tr>
</tbody>
</table>
<h3 id="t473.2 dmesg">3.2 dmesg <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t473.2%20dmesg"> # </a></h3>
<ul>
<li>开机时内核检测信息</li>
</ul>
<pre><code class="lang-js">dmesg | grep CPU
</code></pre>
<h3 id="t483.3 free">3.3 free <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t483.3%20free"> # </a></h3>
<ul>
<li>查看内存使用状态</li>
<li>free [-b|-k|-m|-g]</li>
<li>选项<ul>
<li>-b 以字节为单位</li>
<li>-k 以KB字节为单位</li>
<li>-m 以MB字节为单位</li>
<li>-g 以GB字节为单位</li>
</ul>
</li>
</ul>
<pre><code class="lang-js"># free -m
             total       used       free     shared    buffers     cached
Mem:          1006        687        319          0         98        449
-/+ buffers/cache:        139        866
Swap:         1999          0       1999
</code></pre>
<h4 id="t493.3.1 第一行">3.3.1 第一行 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t493.3.1%20%E7%AC%AC%E4%B8%80%E8%A1%8C"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">内存总数</td>
</tr>
<tr>
<td style="text-align:left">used</td>
<td style="text-align:left">已经使用的内存数</td>
</tr>
<tr>
<td style="text-align:left">free</td>
<td style="text-align:left">空闲的内存数</td>
</tr>
<tr>
<td style="text-align:left">shared</td>
<td style="text-align:left">多个进程共享的内存数</td>
</tr>
<tr>
<td style="text-align:left">buffers</td>
<td style="text-align:left">缓冲区内存数</td>
</tr>
<tr>
<td style="text-align:left">cached</td>
<td style="text-align:left">缓存内存数</td>
</tr>
</tbody>
</table>
<h4 id="t503.3.2 第二行">3.3.2 第二行 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t503.3.2%20%E7%AC%AC%E4%BA%8C%E8%A1%8C"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">算法</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">- buffers/cache</td>
<td style="text-align:left">第一行的used-buffers-cached</td>
<td style="text-align:left">已经使用的要减去缓存和缓冲的内存量</td>
</tr>
<tr>
<td style="text-align:left">+ buffers/cache</td>
<td style="text-align:left">第一行的free+buffers+cached</td>
<td style="text-align:left">空闲的要加上缓存和缓冲的内存量</td>
</tr>
</tbody>
</table>
<h4 id="t513.3.3 第三行">3.3.3 第三行 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t513.3.3%20%E7%AC%AC%E4%B8%89%E8%A1%8C"> # </a></h4>
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">swap总数，默认单位是K</td>
</tr>
<tr>
<td style="text-align:left">used</td>
<td style="text-align:left">已经使用的swap数，默认单位是K</td>
</tr>
<tr>
<td style="text-align:left">free</td>
<td style="text-align:left">空闲的swap数，默认单位是K</td>
</tr>
</tbody>
</table>
<h3 id="t523.4 cpuinfo">3.4 cpuinfo <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t523.4%20cpuinfo"> # </a></h3>
<ul>
<li>查看CPU的信息</li>
<li><code>cat /proc/cpuinfo</code></li>
</ul>
<h3 id="t533.5 uptime">3.5 uptime <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t533.5%20uptime"> # </a></h3>
<ul>
<li>显示系统的启动时间和平均负载，也就是top的第一行</li>
<li>通过<code>w</code>也可以看到</li>
</ul>
<h3 id="t543.6 查看内核相关信息">3.6 查看内核相关信息 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t543.6%20%E6%9F%A5%E7%9C%8B%E5%86%85%E6%A0%B8%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF"> # </a></h3>
<ul>
<li>uname</li>
</ul>
<pre><code class="lang-js"># uname -a
Linux localhost 2.6.32-279.el6.i686 #1 SMP Fri Jun 22 10:59:55 UTC 2012 i686 i686 i386 GNU/Linux
# uname -s
Linux
# uname -r
2.6.32-279.el6.i686
</code></pre>
<h3 id="t553.7 查看操作系统位数">3.7 查看操作系统位数 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t553.7%20%E6%9F%A5%E7%9C%8B%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BD%8D%E6%95%B0"> # </a></h3>
<pre><code class="lang-js">file /bin/ls
</code></pre>
<h3 id="t563.8 查看发行版本">3.8 查看发行版本 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t563.8%20%E6%9F%A5%E7%9C%8B%E5%8F%91%E8%A1%8C%E7%89%88%E6%9C%AC"> # </a></h3>
<pre><code class="lang-js">lsb_release -a
</code></pre>
<h3 id="t573.9 查看发行版本">3.9 查看发行版本 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t573.9%20%E6%9F%A5%E7%9C%8B%E5%8F%91%E8%A1%8C%E7%89%88%E6%9C%AC"> # </a></h3>
<pre><code class="lang-js">yum install redhat-lsb -y
lsb_release -v
</code></pre>
<h3 id="t583.10 列表进程打开或使用文件信息">3.10 列表进程打开或使用文件信息 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t583.10%20%E5%88%97%E8%A1%A8%E8%BF%9B%E7%A8%8B%E6%89%93%E5%BC%80%E6%88%96%E4%BD%BF%E7%94%A8%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"> # </a></h3>
<ul>
<li>lsof [选项]</li>
<li>列出进程调用或打开的文件的信息</li>
<li>选项<ul>
<li>-c 字符串: 只列出字符串开头的进程打开的文件</li>
<li>-u 用户名：只列出某个用户的进程打开的文件</li>
<li>-p pid: 列出某个PID进程打开的文件</li>
</ul>
</li>
</ul>
<h4 id="t593.10.1 查看系统中所有进程调用的文件">3.10.1 查看系统中所有进程调用的文件 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t593.10.1%20%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E8%B0%83%E7%94%A8%E7%9A%84%E6%96%87%E4%BB%B6"> # </a></h4>
<pre><code class="lang-js">lsof | more
</code></pre>
<h4 id="t603.10.2 查看某个文件是被哪个进程调用">3.10.2 查看某个文件是被哪个进程调用 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t603.10.2%20%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E6%96%87%E4%BB%B6%E6%98%AF%E8%A2%AB%E5%93%AA%E4%B8%AA%E8%BF%9B%E7%A8%8B%E8%B0%83%E7%94%A8"> # </a></h4>
<pre><code class="lang-js">lsof /sbin/init
</code></pre>
<h4 id="t613.10.3 查看某个进程调用了哪些文件">3.10.3 查看某个进程调用了哪些文件 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t613.10.3%20%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E8%BF%9B%E7%A8%8B%E8%B0%83%E7%94%A8%E4%BA%86%E5%93%AA%E4%BA%9B%E6%96%87%E4%BB%B6"> # </a></h4>
<pre><code class="lang-js">lsof -c httpd
</code></pre>
<h4 id="t623.10.4 查询某个用户调用了哪些文件">3.10.4 查询某个用户调用了哪些文件 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t623.10.4%20%E6%9F%A5%E8%AF%A2%E6%9F%90%E4%B8%AA%E7%94%A8%E6%88%B7%E8%B0%83%E7%94%A8%E4%BA%86%E5%93%AA%E4%BA%9B%E6%96%87%E4%BB%B6"> # </a></h4>
<pre><code class="lang-js">lsof -u root
</code></pre>
<h2 id="t634. 系统定时任务">4. 系统定时任务 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t634.%20%E7%B3%BB%E7%BB%9F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"> # </a></h2>
<ul>
<li>有些任务比如备份数据库等操作需要在系统空闲的时候执行</li>
</ul>
<h3 id="t644.1 at">4.1 at <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t644.1%20at"> # </a></h3>
<ul>
<li>一次性定时任务<h4 id="t654.1.1 启动服务">4.1.1 启动服务 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t654.1.1%20%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1"> # </a></h4>
<pre><code class="lang-js">chkconfig --list | grep atd
service atd status
service atd start
</code></pre>
</li>
</ul>
<h4 id="t664.1.2 at的访问控制">4.1.2 at的访问控制 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t664.1.2%20at%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"> # </a></h4>
<ul>
<li>如果系统中有<code>/etc/at.allow</code>文件，那么只有写入<code>/etc/at.allow</code>(白名单)中的用户可以使用<code>at</code>命令(优先级更高，会忽略<code>/etc/deny</code>文件)</li>
<li>如果系统中没有<code>/etc/at.allow</code>文件，只有<code>/etc/at.deny</code>文件，那么写入<code>/etc/at.deny</code>文件中的用户不能使用at命令，但这个对<code>root</code>用户并没有作用</li>
<li>如果这两个文件都不存在，那么只有<code>root</code>用户可以使用<code>at</code>命令</li>
</ul>
<h4 id="t674.1.3 at命令">4.1.3 at命令 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t674.1.3%20at%E5%91%BD%E4%BB%A4"> # </a></h4>
<ul>
<li>at 选项 时间</li>
<li>选项<ul>
<li>-m 当at工作完成后，无论是否命令有输出，都用<code>email</code>通知执行<code>at</code>命令的用户</li>
<li>-c 工作号 显示该at工作的实际内容</li>
</ul>
</li>
<li>时间<ul>
<li>HH:MM 例如 10:10</li>
<li>HH:MM YYYY -MM-DD 10:10 2018-08-08</li>
<li>HH:MM[am|pm] [month] [date]  10:10 May 11</li>
<li>HH:MM[am|pm] + [minutes|hours|days|weeks] now + 5 minutes</li>
</ul>
</li>
</ul>
<p>输出日志</p>
<pre><code class="lang-js"># at now +5 minutes
at&gt; /root/hello.sh &gt; /root/hello.log
job 3 at 2019-04-10 22:48
[root@localhost ~]# atq
3    2019-04-10 22:48 a root

at -c 3
</code></pre>
<p>指定的时间重启服务器</p>
<pre><code class="lang-js"># at now +6 minutes
at&gt; /bin/sync 把内存中的数据保存到硬盘中
at&gt; /sbin/shutdown -r now 重启服务器
</code></pre>
<h4 id="t684.1.4 atq">4.1.4 atq <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t684.1.4%20atq"> # </a></h4>
<ul>
<li>查询当前服务器上的<code>at</code>工作</li>
</ul>
<h4 id="t694.1.5 atrm">4.1.5 atrm <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t694.1.5%20atrm"> # </a></h4>
<ul>
<li>删除指定的<code>at</code>任务</li>
</ul>
<h3 id="t704.2 crontab">4.2 crontab <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t704.2%20crontab"> # </a></h3>
<ul>
<li>可以循环定时执行定时任务</li>
<li><a href="http://www.bejson.com/othertools/cron/">cron</a></li>
</ul>
<pre><code class="lang-js">service crond restart
chkconfig crond on
</code></pre>
<h4 id="t714.2.2 at的访问控制">4.2.2 at的访问控制 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t714.2.2%20at%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"> # </a></h4>
<ul>
<li>如果系统中有<code>/etc/cron.allow</code>文件，那么只有写入<code>/etc/cron.allow</code>(白名单)中的用户可以使用<code>at</code>命令(优先级更高，会忽略<code>/etc/cron.deny</code>文件)</li>
<li>如果系统中没有<code>/etc/cron.allow</code>文件，只有<code>/etc/cron.deny</code>文件，那么写入<code>/etc/cron.deny</code>文件中的用户不能使用at命令，但这个对<code>root</code>用户并没有作用</li>
<li>如果这两个文件都不存在，那么只有<code>root</code>用户可以使用<code>at</code>命令</li>
</ul>
<h4 id="t724.2.3 crontab设置">4.2.3 crontab设置 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t724.2.3%20crontab%E8%AE%BE%E7%BD%AE"> # </a></h4>
<ul>
<li>crontab [选项]</li>
<li>选项<ul>
<li>-e 编辑crontab定时任务</li>
<li>-l 查询crontab任务</li>
<li>-r 删除当前用户所有的crontab任务</li>
</ul>
</li>
</ul>
<pre><code class="lang-js">* * * * *  执行的任务
</code></pre>
<h5 id="t734.2.3.1 语法">4.2.3.1 语法 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t734.2.3.1%20%E8%AF%AD%E6%B3%95"> # </a></h5>
<pre><code class="lang-js"># .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed
</code></pre>
<h5 id="t744.2.3.2 位置">4.2.3.2 位置 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t744.2.3.2%20%E4%BD%8D%E7%BD%AE"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">项目</th>
<th style="text-align:left">含义</th>
<th style="text-align:left">范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">第1个星</td>
<td style="text-align:left">1个小时中的第几分钟</td>
<td style="text-align:left">0~59</td>
</tr>
<tr>
<td style="text-align:left">第2个星</td>
<td style="text-align:left">1天当中的第几小时</td>
<td style="text-align:left">0~23</td>
</tr>
<tr>
<td style="text-align:left">第3个星</td>
<td style="text-align:left">1月当中的第几天</td>
<td style="text-align:left">1~31</td>
</tr>
<tr>
<td style="text-align:left">第4个星</td>
<td style="text-align:left">1年当中的第几月</td>
<td style="text-align:left">1~12</td>
</tr>
<tr>
<td style="text-align:left">第5个星</td>
<td style="text-align:left">1周当中的星期几</td>
<td style="text-align:left">0~6</td>
</tr>
</tbody>
</table>
<h5 id="t754.2.3.3 特殊符号">4.2.3.3 特殊符号 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t754.2.3.3%20%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">符号</th>
<th style="text-align:left">含义</th>
<th style="text-align:left">例子</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">代表任意时间</td>
<td style="text-align:left">比如第一个星就代表一个小时中每分钟都执行一次</td>
</tr>
<tr>
<td style="text-align:left">,</td>
<td style="text-align:left">代表不连续的时间</td>
<td style="text-align:left">比如"1,2,3 <em> </em> <em> </em>",就代表每小时的1分、2分、3分执行命令</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">代表连续的时间范围</td>
<td style="text-align:left">比如 " 1-5 <em> </em> * ** ",代表每小时的第1分到第5分执行命令</td>
</tr>
<tr>
<td style="text-align:left">*/n</td>
<td style="text-align:left">代表每隔多久执行一次</td>
<td style="text-align:left">比如 "<em>/10 </em> <em> </em> <em> </em>" 就代表每隔10分钟就执行一次命令</td>
</tr>
<tr>
<td style="text-align:left">0 0 1,10 * 1</td>
<td style="text-align:left">每月1号和10号，每周1的0点0分都会执行</td>
</tr>
</tbody>
</table>
<h5 id="t764.2.3.4 案例">4.2.3.4 案例 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t764.2.3.4%20%E6%A1%88%E4%BE%8B"> # </a></h5>
<table>
<thead>
<tr>
<th style="text-align:left">符号</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">10 22 <em> </em> *</td>
<td style="text-align:left">在每天的22点10分执行</td>
</tr>
<tr>
<td style="text-align:left">0 15 <em> </em> 1</td>
<td style="text-align:left">每周1的15点0分执行</td>
</tr>
<tr>
<td style="text-align:left">0 5 5,10 <em> </em></td>
<td style="text-align:left">每月5号和10号的凌晨5点整执行</td>
</tr>
<tr>
<td style="text-align:left">10 5 <em> </em> 1-5</td>
<td style="text-align:left">每周一到周五的凌晨5点10分执行命令</td>
</tr>
<tr>
<td style="text-align:left"><em>/10 10 </em> <em> </em></td>
<td style="text-align:left">每天凌晨10点钟，每隔10分钟执行一次</td>
</tr>
</tbody>
</table>
<h5 id="t774.2.3.5 注意事项">4.2.3.5 注意事项 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t774.2.3.5%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"> # </a></h5>
<ul>
<li>所有选项不能为空，必须填写</li>
<li>crontab最小单位是分钟,最大单位是天</li>
<li>不管写命令还是脚本都要使用绝对路径</li>
</ul>
<h3 id="t784.3 系统定时任务">4.3 系统定时任务 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t784.3%20%E7%B3%BB%E7%BB%9F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"> # </a></h3>
<ul>
<li><code>crontab -e</code>是用户执行的命令，不同的用户身份可以执行自己的定时任务</li>
<li>如果需要系统执行定时任务，可以编辑<code>/etc/crontab</code>文件</li>
<li><code>/etc/crontab</code>可以指定shell、路径、邮件发送和家目录</li>
</ul>
<h3 id="t794.3.1 /etc/crontab">4.3.1 /etc/crontab <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t794.3.1%20/etc/crontab"> # </a></h3>
<ul>
<li>修改<code>/etc/crontab</code>配置文件 <pre><code class="lang-js"><span class="hljs-string">`5 5 * * * echo `</span>date<span class="hljs-string">` &gt;&gt; /root/date.log`</span>
</code></pre>
</li>
</ul>
<h3 id="t804.3.2 /etc/cron">4.3.2 /etc/cron <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t804.3.2%20/etc/cron"> # </a></h3>
<ul>
<li>把需要定时执行的脚本复制到/etc/cron.{daily,weekly,monthly}目录中的任意一个</li>
</ul>
<pre><code class="lang-js">root@localhost log]# ls /etc/cron*
/etc/cron.daily:
cups  logrotate  makewhatis.cron  mlocate.cron  prelink  readahead.cron  tmpwatch
/etc/cron.hourly:
/etc/cron.monthly:
/etc/cron.weekly:
</code></pre>
<h3 id="t814.4 anacron配置">4.4 anacron配置 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t814.4%20anacron%E9%85%8D%E7%BD%AE"> # </a></h3>
<ul>
<li>anacron是用来保证在系统关机的时候错过的定时任务(/etc/cron.daily)，可以在系统开机后自动执行</li>
<li>anacron会使用1天、7天和1个月作为检测周期</li>
<li>在系统的<code>/var/spool/anacron</code>目录中存在<code>cron.{daily,weekly,monthly}</code>文件，用于记录上次执行cron的时间</li>
<li>和当前的时间做比较，如果两个时间的差值超过了<code>anacron</code>指定的时间差，那就证明有 <code>crontab</code>未执行</li>
<li><code>/etc/cron.{daily,weekly,monthly}</code>只会被anacron调用</li>
</ul>
<h4 id="t824.4.1 /etc/anacrontab">4.4.1 /etc/anacrontab <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t824.4.1%20/etc/anacrontab"> # </a></h4>
<pre><code class="lang-js"># /etc/anacrontab: configuration file for anacron

# See anacron(8) and anacrontab(5) for details.

SHELL=/bin/sh
PATH=/sbin:/bin:/usr/sbin:/usr/bin
MAILTO=root
# the maximal random delay added to the base delay of the jobs
# 最大随机延迟时间(分钟)
RANDOM_DELAY=45
# the jobs will be started during the following hours only
# anacron的执行时间范围是 3:00 ~ 22:00
START_HOURS_RANGE=3-22

#period in days   delay in minutes   job-identifier   command
每隔几天执行 强制延迟时间(分钟) 修改优先级 执行目录下面的所有脚本
1    5    cron.daily        nice run-parts /etc/cron.daily
7    25    cron.weekly        nice run-parts /etc/cron.weekly
@monthly 45    cron.monthly        nice run-parts /etc/cron.monthly
</code></pre>
<h4 id="t834.4.2 cron.daily执行过程">4.4.2 cron.daily执行过程 <a href="http://www.zhufengpeixun.cn/architecture/html/61.7.devops-system.html#t834.4.2%20cron.daily%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"> # </a></h4>
<ul>
<li>首先读取/var/spool/anacron/cron.daily中的上一次执行时间</li>
<li>和当前时间对比，如果两个时间相差超过1天，说明漏执行了，就执行cron.daily任务</li>
<li>执行任务的时间只能在3-22点之间</li>
<li>执行的时强制延迟时间为5分钟，再随机延迟0~45分钟</li>
<li>使用nice命令指定默认的优先级，再使用<code>run-parts</code>脚本执行<code>/etc/cron.daily</code>目录中所有的可执行文件</li>
</ul>

        <div class="copyright">Powered by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a>. Dependence <a href="https://nodejs.org/">Node.js</a> run.</div>
    </div>
    
</div>

<script src="./61.7.devops-system_files/jquery.js"></script>
<script>
$('.warpper .page-toc ul ul li a').on('click',function(){
  $('.warpper .page-toc ul ul li a').removeClass('my-active')
  $(this).addClass('my-active')
})

$('.logo').on('mouseenter',function(){
  $('.nav').height('400px');
})
$('.nav').on('mouseleave',function(){
  $('.nav').height('80px');
})
$('.logo').on('click',function(){
  $('.nav').css('display','none');
 $('.warpper').css('padding','0px');
})
// if (!$('.understand-me').length) {
  //   var bar = $(window).height() - $('.navbar ').height() - $('.page-toc').position().top;
  //   var count = bar / 26 / 2;
  //   var barHeight = $('.page-toc').outerHeight();
  //   $('.page-toc li').eq(0).children('a').addClass('red');
  //   var arr = [];
  //   $("h1,h2,h3,h4,h5,h6").each(function () {
  //     arr.push($(this).position().top);
  //   });
  //   var timer
  //   function dark() {
  //     clearTimeout(timer)
  //      timer = setTimeout(function () {
  //      var top = Math.abs($('.page-toc > ul').position().top);
  //      var cur = $('.content').scrollTop();
  //      for (var i = arr.length; i >= 0; i--) {
  //        if (arr[i] <= cur) {
  //          break;
  //        }
  //      }
  //      if (i === -1) {
  //        i = 0;
  //      }
  //      $('.page-toc li a').removeClass('red');
  //      $('.page-toc li').eq(i).children('a').addClass('red');
  //      let height = $('.page-toc li').eq(i).position().top-$('.page-toc').height(); // 如果当前的offset出去了 回到中间可好？
  //      $('.page-toc').scrollTop(height+$('.page-toc').height()/2);
  //    },200)
  //   }

  //   $('.content').on('scroll', dark);
  // }
</script>
<style>

    /* ::-webkit-scrollbar{width:14px;}
    ::-webkit-scrollbar-track{background-color:transparent;}
    ::-webkit-scrollbar-thumb{background-color:transparent;}
    ::-webkit-scrollbar-thumb:hover {background-color:transparent}
    ::-webkit-scrollbar-thumb:active {background-color:transparent} */

    .page-toc > ul .red {
        background: #f3f3f3;
        z-index: 1;
        border-left: 3px solid #009a61;
        -webkit-transition: all .2s ease;
        transition: all .2s ease;
        color: #000
    }





</style>


</body></html>