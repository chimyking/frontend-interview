<!DOCTYPE html>
<!-- saved from url=(0080)https://juejin.im/book/5b936540f265da0a9624b04b/section/5bb6212be51d451a3f4c3570 -->
<html lang="zh-Hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><meta name="google-site-verification" content="cCHsgG9ktuCTgWgYfqCJql8AeR4gAne4DTZqztPoirE"><meta name="apple-itunes-app" content="app-id=987739104"><meta name="baidu-site-verification" content="qiK2a1kcFc"><meta name="360-site-verification" content="4c3c7d57d59f0e1a308462fbc7fd7e51"><meta name="sogou_site_verification" content="c49WUDZczQ"><style>body {
        font-size: 16px;
        line-height: 2;
      }
      a, button, input {
        margin: 1rem 1.5rem;
      }
      img {
        width: 0;
        height: 0;
      }
      #juejin {
        overflow-x: hidden;
      }</style><title data-vue-meta="true">前端性能优化原理与实践 - 修言 - 掘金小册</title><link rel="apple-touch-icon" sizes="180x180" href="https://b-gold-cdn.xitu.io/favicons/v2/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-16x16.png"><link rel="manifest" href="https://b-gold-cdn.xitu.io/favicons/v2/manifest.json"><link rel="mask-icon" href="https://b-gold-cdn.xitu.io/favicons/v2/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon.ico"><meta name="msapplication-config" content="https://b-gold-cdn.xitu.io/favicons/v2/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="search" title="掘金" href="https://b-gold-cdn.xitu.io/conf/search.xml" type="application/opensearchdescription+xml"><link rel="stylesheet" href="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/ionicons.min.css"><link rel="stylesheet" href="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/iconfont.css"><link href="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/0.660985ddeca6add31f2b.css" rel="stylesheet"><style type="text/css" abt="234"></style><script async="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/hm.js"></script><script async="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/analytics.js"></script><script type="text/javascript" async="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/vds.js"></script><script charset="utf-8" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/3.01b6d5556ba9a1ddd709.js"></script><meta data-vmid="keywords" name="keywords" content="掘金,稀土,Vue.js,微信小程序,Kotlin,RxJava,React Native,Wireshark,敏捷开发,Bootstrap,OKHttp,正则表达式,WebGL,Webpack,Docker,MVVM" data-vue-meta="true"><meta data-vmid="description" name="description" content="掘金是一个帮助开发者成长的社区，是给开发者用的 Hacker News，给设计师用的 Designer News，和给产品经理用的 Medium。掘金的技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货，其中包括：Android、iOS、前端、后端等方面的内容。用户每天都可以在这里找到技术世界的头条内容。与此同时，掘金内还有沸点、掘金翻译计划、线下活动、专栏文章等内容。即使你是 GitHub、StackOverflow、开源中国的用户，我们相信你也可以在这里有所收获。" data-vue-meta="true"><script>//console.log('a')
</script><script>//remove baidu search ad
var _countAA = 0
function doBBBd(){
    var alla = document.getElementsByTagName('a')
    for(var i = 0; i < alla.length; i++){
        if(/baidu.com\/(baidu.php\?url=|adrc.php\?t)/.test(alla[i].href)){
            var _temp = alla[i].parentElement, loop = 0
            while(loop < 5){
                _temp = _temp.parentElement
                loop++
                if(_temp.parentElement.id == 'content_left'){
                    _temp.remove()
                    break
                }
            }
        }
    }
    
    if(_countAA++ < 20){
        setTimeout(doBBBd, 500)
    }
    
}
doBBBd()
document.addEventListener('keyup', function(){_countAA-=10;doBBBd()}, false)
document.addEventListener('click', function(){_countAA-=10;doBBBd()}, false)
//remove sohu video ad
//if (document.URL.indexOf("tv.sohu.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
//remove 56.com video ad
//if (document.URL.indexOf("56.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
</script><script charset="utf-8" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/12.6fc23092cb351829a8d6.js"></script><script async="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/aliplayer-min.js"></script></head><body><div id="juejin" data-v-5cbcd4ce=""><div class="global-component-box" data-v-5cbcd4ce=""><!----><div data-v-33bc5e87="" data-v-5cbcd4ce="" class="alert-list alert-list"></div><!----><!----><!----><div class="emoji-barrage" data-v-9b37bde4="" data-v-5cbcd4ce=""><!----></div><div class="book-new-user-award-popup" style="display:none;" data-v-591321ae="" data-v-5cbcd4ce=""><div class="content-box" style="display:;" data-v-591321ae=""><div class="close ion-close-round" data-v-591321ae=""></div><div class="header" data-v-591321ae=""><div class="icon" data-v-591321ae=""><img src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/icon.a87e5ae.svg" data-v-591321ae=""></div><div class="txt" data-v-591321ae="">新人专享好礼</div></div><div class="desc" data-v-591321ae="">凡未购买过小册的用户，均可领取三张 5 折新人专享券，购买小册时自动使用专享券，最高可节省 45 元。</div><div class="tickets" data-v-591321ae=""><div class="ticket" data-v-591321ae=""><div class="ticket__inner" data-v-591321ae=""><div class="enjoy" data-v-591321ae=""><span class="new-title" data-v-591321ae="">小册新人 5 折券</span></div><div class="sale" data-v-591321ae="">最高可省 15 元</div></div></div><div class="ticket" data-v-591321ae=""><div class="ticket__inner" data-v-591321ae=""><div class="enjoy" data-v-591321ae=""><span class="new-title" data-v-591321ae="">小册新人 5 折券</span></div><div class="sale" data-v-591321ae="">最高可省 15 元</div></div></div><div class="ticket" data-v-591321ae=""><div class="ticket__inner" data-v-591321ae=""><div class="enjoy" data-v-591321ae=""><span class="new-title" data-v-591321ae="">小册新人 5 折券</span></div><div class="sale" data-v-591321ae="">最高可省 15 元</div></div></div></div><div class="remark" data-v-591321ae="">注：专享券的使用期限在领券的七天内。</div><div class="submit-btn" data-v-591321ae="">一键领取</div></div><div class="model success" style="display:none;" data-v-591321ae=""><div class="heading" data-v-591321ae="">领取成功</div><div class="content-text" data-v-591321ae="">购买小册时自动使用专享券</div><div class="btn-success-footer" data-v-591321ae=""><div class="btn-ok" data-v-591321ae="">知道了</div><div class="btn-ok btn-link" data-v-591321ae="">前往小册首页</div></div></div><div class="model fail" style="display:none;" data-v-591321ae=""><div class="heading" data-v-591321ae="">领取失败</div><div class="content-text" data-v-591321ae="">本活动仅适用于小册新用户</div><div class="btn-ok" data-v-591321ae="">知道了</div></div></div><!----><!----><div class="bind-phone-number-modal-box" data-v-4fdfa234="" data-v-5cbcd4ce=""><div st:block="bindPhoneNumberModal" class="modal-mask" style="display:none;" data-v-4fdfa234=""></div><form class="bind-phone-number-form" style="display:none;" data-v-4fdfa234=""><i title="关闭" class="close-btn ion-close-round" data-v-4fdfa234=""></i><h1 class="title" data-v-4fdfa234="">提示</h1><h2 class="hint" data-v-4fdfa234="">根据我国<a href="http://www.cac.gov.cn/2017-08/25/c_1121541842.htm" target="_blank" style="color:#007fff">《互联网跟帖评论服务管理规定》</a>，您需要绑定手机号后才可在掘金社区内发布内容。</h2><div class="input-group" data-v-4fdfa234=""><div class="input-box" data-v-4fdfa234=""><input maxlength="64" placeholder="请输入要绑定的手机号码" value="" class="input" data-v-4fdfa234=""></div><!----><!----></div><button st:name="bindBtn" class="btn" data-v-4fdfa234="">绑定手机</button></form></div></div><!----><div data-v-4ea4d930="" data-v-5cbcd4ce="" class="book-read-view"><section data-v-4ea4d930="" class="book-section"><div data-v-4ea4d930="" class="book-summary"><div data-v-4ea4d930="" class="book-summary-masker"></div><div data-v-4ea4d930="" class="book-summary-inner"><div data-v-4ea4d930="" class="book-summary__header"><a data-v-4ea4d930="" href="https://juejin.im/books" target="" rel="" class="logo"><img data-v-4ea4d930="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/logo.a7995ad.svg"></a><div data-v-4ea4d930="" class="label">小册</div><!----></div><!----><div data-v-d0eb2184="" data-v-4ea4d930="" class="book-directory book-directory bought"><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">1</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">开篇：知识体系与小册格局</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">2</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">网络篇 1：webpack 性能调优与 Gzip 原理</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">3</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">网络篇 2：图片优化——质量与性能的博弈</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">4</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">存储篇 1：浏览器缓存机制介绍与缓存策略剖析</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">5</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">存储篇 2：本地存储——从 Cookie 到 Web Storage、IndexedDB</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">6</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">彩蛋篇：CDN 的缓存与回源机制解析</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">7</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 1：服务端渲染的探索与实践</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">8</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 2：知己知彼——解锁浏览器背后的运行机制</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">9</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 3：对症下药——DOM 优化原理与基本实践</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">10</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 4：千方百计——Event Loop 与异步更新策略</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">11</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 5：最后一击——回流（Reflow）与重绘（Repaint）</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">12</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">应用篇 1：优化首屏体验——Lazy-Load 初探</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section route-active section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">13</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">应用篇 2：事件的节流（throttle）与防抖（debounce）</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">14</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">性能监测篇：Performance、LightHouse 与性能 API</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">15</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">前方的路：希望以此为你的起点</div><!----><!----></div><!----></a></div><div data-v-4ea4d930="" class="book-summary__footer"><div data-v-4ea4d930="" class="qr-icon"><img data-v-4ea4d930="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/qr-icon.881015a.svg"></div><div data-v-4ea4d930="" class="qr-tips"><span data-v-4ea4d930="" class="ion-close"></span><div data-v-4ea4d930="" class="title"><span data-v-4ea4d930="">关注公众号</span><span data-v-4ea4d930="">领取优惠码</span></div><div data-v-4ea4d930="" class="qr-img"><img data-v-4ea4d930="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/wx-qr.13d8b4d.png"></div></div></div></div></div><div data-v-4ea4d930="" class="book-content"><div data-v-4ea4d930="" class="book-content-inner"><div data-v-4ea4d930="" class="book-content__header"><div data-v-4ea4d930="" class="switch"><img data-v-4ea4d930="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/icon.3e69d5a.svg"></div><div data-v-4ea4d930="" class="menu"><img data-v-4ea4d930="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/menu.74b9add.svg"></div><div data-v-4ea4d930="" class="title"><a data-v-4ea4d930="" href="https://juejin.im/book/5b936540f265da0a9624b04b" target="" rel="">前端性能优化原理与实践</a></div><div data-v-02bf4dd6="" data-v-4ea4d930="" class="user-auth user-auth"><div data-v-02bf4dd6="" class="nav-item menu"><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-02bf4dd6="" data-src="https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div><div data-v-02bf4dd6="" class="nav-menu user-dropdown-list" style="display: none;"><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-write"></i><span data-v-02bf4dd6="">写文章</span></a></li><!----><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-draft"></i><span data-v-02bf4dd6="">草稿</span></a></li></ul><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4"><i data-v-02bf4dd6="" class="fengwei fw-person"></i><span data-v-02bf4dd6="">我的主页</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4/likes"><i data-v-02bf4dd6="" class="fengwei fw-like"></i><span data-v-02bf4dd6="">我喜欢的</span></a></li><!----><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4/collections"><i data-v-02bf4dd6="" class="fengwei fw-collection"></i><span data-v-02bf4dd6="">我的收藏集</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4/books?type=bought"><i data-v-02bf4dd6="" class="fengwei fw-bought"></i><span data-v-02bf4dd6="">已购</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/subscribe"><i data-v-02bf4dd6="" class="fengwei fw-tag"></i><span data-v-02bf4dd6="">标签管理</span></a></li></ul><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/settings"><i data-v-02bf4dd6="" class="fengwei fw-setting"></i><span data-v-02bf4dd6="">设置</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item more"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-info"></i><span data-v-02bf4dd6="">关于</span><i data-v-02bf4dd6="" class="ion-chevron-right more-icon"></i></a><div data-v-02bf4dd6="" class="nav-menu more-dropdown-list"><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/app" target="_blank">下载应用</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/about" target="_blank">关于</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://xitu.io/jobs" target="_blank">加入我们</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://github.com/xitu/gold-miner" rel="nofollow noopener noreferrer" target="_blank">翻译计划</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://bd.juejin.im/?utm_campaign=bd&amp;utm_source=web&amp;utm_medium=nav" target="_blank">合作伙伴</a></li></ul></div></li></ul><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-logout"></i><span data-v-02bf4dd6="">登出</span></a></li></ul></div></div><!----></div><!----></div><div data-v-4ea4d930="" class="book-body transition--next"><div data-v-1dcbd6ba="" data-v-4ea4d930="" class="section-view book-section-content"><div data-v-6796091a="" data-v-1dcbd6ba="" class="section-content"><div data-v-6796091a="" class="section-page book-section-view"><div data-v-6796091a="" class="entry-content article-content"><h1 class="heading" data-id="heading-0">事件的节流（throttle）与防抖（debounce）</h1>
<p>上一节我们一起通过监听滚动事件，实现了各大网站喜闻乐见的懒加载效果。但我们提到，scroll 事件是一个非常容易被反复触发的事件。其实不止 scroll 事件，resize 事件、鼠标事件（比如 mousemove、mouseover 等）、键盘事件（keyup、keydown 等）都存在被频繁触发的风险。</p>
<p>频繁触发回调导致的大量计算会引发页面的抖动甚至卡顿。为了规避这种情况，我们需要一些手段来控制事件被触发的频率。就是在这样的背景下，throttle（事件节流）和 debounce（事件防抖）出现了。</p>
<h2 class="heading" data-id="heading-1">“节流”与“防抖”的本质</h2>
<p>这两个东西都以<strong>闭包</strong>的形式存在。</p>
<p>它们通过对事件对应的回调函数进行包裹、以自由变量的形式缓存时间信息，最后用 setTimeout 来控制事件的触发频率。</p>
<h2 class="heading" data-id="heading-2">Throttle： 第一个人说了算</h2>
<p>throttle 的中心思想在于：在某段时间内，不管你触发了多少次回调，我都只认第一次，并在计时结束时给予响应。</p>
<p>先给大家讲个小故事：现在有一个旅客刚下了飞机，需要用车，于是打电话叫了该机场唯一的一辆机场大巴来接。司机开到机场，心想来都来了，多接几个人一起走吧，这样这趟才跑得值——我等个十分钟看看。于是司机一边打开了计时器，一边招呼后面的客人陆陆续续上车。在这十分钟内，后面下飞机的乘客都只能乘这一辆大巴，十分钟过去后，不管后面还有多少没挤上车的乘客，这班车都必须发走。</p>
<p>在这个故事里，“司机” 就是我们的节流阀，他控制发车的时机；“乘客”就是因为我们频繁操作事件而不断涌入的回调任务，它需要接受“司机”的安排；而“计时器”，就是我们上文提到的以自由变量形式存在的时间信息，它是“司机”决定发车的依据；最后“发车”这个动作，就对应到回调函数的执行。</p>
<p>总结下来，所谓的“节流”，是通过在一段时间内<strong>无视后来产生的回调请求</strong>来实现的。只要一位客人叫了车，司机就会为他开启计时器，一定的时间内，后面需要乘车的客人都得排队上这一辆车，谁也无法叫到更多的车。</p>
<p>对应到实际的交互上是一样一样的：每当用户触发了一次 scroll 事件，我们就为这个触发操作开启计时器。一段时间内，后续所有的 scroll 事件都会被当作“一辆车的乘客”——它们无法触发新的 scroll 回调。直到“一段时间”到了，第一次触发的 scroll 事件对应的回调才会执行，而“一段时间内”触发的后续的 scroll 回调都会被节流阀无视掉。</p>
<p>理解了大致的思路，我们现在一起实现一个 throttle：</p>
<pre><code class="hljs javascript" lang="javascript"><span class="hljs-comment">// fn是我们需要包装的事件回调, interval是时间间隔的阈值</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throttle</span>(<span class="hljs-params">fn, interval</span>) </span>{
  <span class="hljs-comment">// last为上一次触发回调的时间</span>
  <span class="hljs-keyword">let</span> last = <span class="hljs-number">0</span>
  
  <span class="hljs-comment">// 将throttle处理结果当作函数返回</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-comment">// 保留调用时的this上下文</span>
      <span class="hljs-keyword">let</span> context = <span class="hljs-keyword">this</span>
      <span class="hljs-comment">// 保留调用时传入的参数</span>
      <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">arguments</span>
      <span class="hljs-comment">// 记录本次触发回调的时间</span>
      <span class="hljs-keyword">let</span> now = +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()
      
      <span class="hljs-comment">// 判断上次触发的时间和本次触发的时间差是否小于时间间隔的阈值</span>
      <span class="hljs-keyword">if</span> (now - last &gt;= interval) {
      <span class="hljs-comment">// 如果时间间隔大于我们设定的时间间隔阈值，则执行回调</span>
          last = now;
          fn.apply(context, args);
      }
    }
}

<span class="hljs-comment">// 用throttle来包装scroll的回调</span>
<span class="hljs-keyword">const</span> better_scroll = throttle(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'触发了滚动事件'</span>), <span class="hljs-number">1000</span>)

<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'scroll'</span>, better_scroll)
</code></pre><h2 class="heading" data-id="heading-3">Debounce： 最后一个人说了算</h2>
<p>防抖的中心思想在于：我会等你到底。在某段时间内，不管你触发了多少次回调，我都只认最后一次。</p>
<p>继续讲司机开车的故事。这次的司机比较有耐心。第一个乘客上车后，司机开始计时（比如说十分钟）。十分钟之内，如果又上来了一个乘客，司机会把计时器清零，重新开始等另一个十分钟（延迟了等待）。直到有这么一位乘客，从他上车开始，后续十分钟都没有新乘客上车，司机会认为确实没有人需要搭这趟车了，才会把车开走。</p>
<p>我们对比 throttle 来理解 debounce：在throttle的逻辑里，“第一个人说了算”，它只为第一个乘客计时，时间到了就执行回调。而 debounce 认为，“最后一个人说了算”，debounce 会为每一个新乘客设定新的定时器。</p>
<p>我们基于上面的理解，一起来写一个 debounce：</p>
<pre><code class="hljs javascript" lang="javascript"><span class="hljs-comment">// fn是我们需要包装的事件回调, delay是每次推迟执行的等待时间</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounce</span>(<span class="hljs-params">fn, delay</span>) </span>{
  <span class="hljs-comment">// 定时器</span>
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>
  
  <span class="hljs-comment">// 将debounce处理结果当作函数返回</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 保留调用时的this上下文</span>
    <span class="hljs-keyword">let</span> context = <span class="hljs-keyword">this</span>
    <span class="hljs-comment">// 保留调用时传入的参数</span>
    <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">arguments</span>

    <span class="hljs-comment">// 每次事件被触发时，都去清除之前的旧定时器</span>
    <span class="hljs-keyword">if</span>(timer) {
        clearTimeout(timer)
    }
    <span class="hljs-comment">// 设立新定时器</span>
    timer = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      fn.apply(context, args)
    }, delay)
  }
}

<span class="hljs-comment">// 用debounce来包装scroll的回调</span>
<span class="hljs-keyword">const</span> better_scroll = debounce(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'触发了滚动事件'</span>), <span class="hljs-number">1000</span>)

<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'scroll'</span>, better_scroll)
</code></pre><h2 class="heading" data-id="heading-4">用 Throttle 来优化 Debounce</h2>
<p>debounce 的问题在于它“太有耐心了”。试想，如果用户的操作十分频繁——他每次都不等 debounce 设置的 delay 时间结束就进行下一次操作，于是每次 debounce 都为该用户重新生成定时器，回调函数被延迟了不计其数次。频繁的延迟会导致用户迟迟得不到响应，用户同样会产生“这个页面卡死了”的观感。</p>
<p>为了避免弄巧成拙，我们需要借力 throttle 的思想，打造一个“有底线”的 debounce——等你可以，但我有我的原则：delay 时间内，我可以为你重新生成定时器；但只要delay的时间到了，我必须要给用户一个响应。这个 throttle 与 debounce “合体”思路，已经被很多成熟的前端库应用到了它们的加强版 throttle 函数的实现中：</p>
<pre><code class="hljs javascript" lang="javascript"><span class="hljs-comment">// fn是我们需要包装的事件回调, delay是时间间隔的阈值</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throttle</span>(<span class="hljs-params">fn, delay</span>) </span>{
  <span class="hljs-comment">// last为上一次触发回调的时间, timer是定时器</span>
  <span class="hljs-keyword">let</span> last = <span class="hljs-number">0</span>, timer = <span class="hljs-literal">null</span>
  <span class="hljs-comment">// 将throttle处理结果当作函数返回</span>
  
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ 
    <span class="hljs-comment">// 保留调用时的this上下文</span>
    <span class="hljs-keyword">let</span> context = <span class="hljs-keyword">this</span>
    <span class="hljs-comment">// 保留调用时传入的参数</span>
    <span class="hljs-keyword">let</span> args = <span class="hljs-built_in">arguments</span>
    <span class="hljs-comment">// 记录本次触发回调的时间</span>
    <span class="hljs-keyword">let</span> now = +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()
    
    <span class="hljs-comment">// 判断上次触发的时间和本次触发的时间差是否小于时间间隔的阈值</span>
    <span class="hljs-keyword">if</span> (now - last &lt; delay) {
    <span class="hljs-comment">// 如果时间间隔小于我们设定的时间间隔阈值，则为本次触发操作设立一个新的定时器</span>
       clearTimeout(timer)
       timer = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
          last = now
          fn.apply(context, args)
        }, delay)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// 如果时间间隔超出了我们设定的时间间隔阈值，那就不等了，无论如何要反馈给用户一次响应</span>
        last = now
        fn.apply(context, args)
    }
  }
}

<span class="hljs-comment">// 用新的throttle包装scroll的回调</span>
<span class="hljs-keyword">const</span> better_scroll = throttle(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'触发了滚动事件'</span>), <span class="hljs-number">1000</span>)

<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'scroll'</span>, better_scroll)
</code></pre><h2 class="heading" data-id="heading-5">小结</h2>
<p>throttle 和 debounce 不仅是我们日常开发中的常用优质代码片段，更是前端面试中不可不知的高频考点。“看懂了代码”、“理解了过程”在本节都是不够的，重要的是把它写到自己的项目里去，亲自体验一把节流和防抖带来的性能提升。</p>
<p>（阅读过程中有任何想法或疑问，或者单纯希望和笔者交个朋友啥的，欢迎大家添加我的微信xyalinode与我交流哈~）</p>
</div><section data-v-6796091a="" class="book-comments"><div data-v-6796091a="" class="box-title">留言</div><div data-v-6796091a="" class="comment-box"><div data-v-ad67b3f4="" data-v-6796091a="" class="comment-form comment-form" id="comment"><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-ad67b3f4="" data-src="https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div><div data-v-2ecde58e="" data-v-ad67b3f4="" class="auth-card"><!----><textarea data-v-ad67b3f4="" data-v-2ecde58e="" placeholder="评论将在后台进行审核，审核通过后对所有人可见" class="content-input" style="overflow: hidden; overflow-wrap: break-word; height: 60px;"></textarea></div><div data-v-ad67b3f4="" class="action-box" style="display: none;"><div data-v-43572e24="" data-v-ad67b3f4="" class="image-uploader image-uploader" style="display: none;"><input data-v-43572e24="" type="file" class="input"><button data-v-43572e24="" class="upload-btn"><i data-v-43572e24="" class="icon ion-image"></i><span data-v-43572e24="">上传图片</span></button></div><div data-v-ad67b3f4="" class="submit-box"><span data-v-ad67b3f4="" class="submit-text">Ctrl or ⌘ + Enter</span><button data-v-ad67b3f4="" class="submit-btn">评论</button></div></div><!----></div></div><ul data-v-795f23dc="" data-v-6796091a="" st:block="commentList" class="comment-list comment-list"><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b0a26066fb9a07aa34ab6ff" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b0a26066fb9a07aa34ab6ff" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b0a26066fb9a07aa34ab6ff" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b0a26066fb9a07aa34ab6ff" target="_blank" rel="" class="username" data-v-1d86e78f="">imeahu<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">前端工程师</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">有个疑惑：小标题『用 Throttle 来优化 Debounce 』的意思是做一个加强版的Debounce，但正文里却说实现一个加强版的Throttle（代码也是实现加强版的Throttle）</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">5月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">。。。能理解是两者结合一下就可以了</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">5月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b35a3cef265da59584da3b4" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b35a3cef265da59584da3b4" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/4/4/169e61e0e1bcf2e1?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/4/4/169e61e0e1bcf2e1?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b35a3cef265da59584da3b4" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b35a3cef265da59584da3b4" target="_blank" rel="" class="username" data-v-1d86e78f="">EdwardXuan<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><div data-v-38ab5be4="" class="position">全栈工程师 @ HUAWEI</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">throttle函数中一开始的last是否应该是var last = +new Date()呢？因为now-last应该是一个时间段，now-0是不是不对。</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">6月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b35a3cef265da59584da3b4" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/4/4/169e61e0e1bcf2e1?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/4/4/169e61e0e1bcf2e1?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b35a3cef265da59584da3b4" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b35a3cef265da59584da3b4" target="_blank" rel="" class="username username" data-v-1d86e78f="">EdwardXuan<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><div data-v-9bacb4c6="" class="position">全栈工程师 @ HUAWEI</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">对的，是我理解错了，第一次last=0，确保第一次一定触发函数</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b722f415188256114661f0d" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b722f415188256114661f0d" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e09345b433862726?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09345b433862726?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b722f415188256114661f0d" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b722f415188256114661f0d" target="_blank" rel="" class="username" data-v-1d86e78f="">Connie_豆<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html collapsed">看评论最后一个例子采用节流的方式去优化防抖好像有一点点小问题：
1. 因为滚动是连续的，所以会不停的触发监听事件if部分，然后last会一直刷新为now，所以now - last是非常接近的，不会小于1000ms，导致else部分不会进入；
2. 在else逻辑中应该加入clearTimeout，防止执行完后settimeout时间到了执行；
我稍微改动了一下，感觉好像差不多了，（当然前提是我没有理解错作者大佬的意思，嘿嘿）：
// fn是我们需要包装的事件回调, delay是时间间隔的阈值
  function throttle(fn, delay) {…</span><span data-v-38ab5be4="" class="show-all">展开全部</span></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">6月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">“因为滚动是连续的，所以会不停的触发监听事件if部分，然后last会一直刷新为now”这个理解不对，“不停的触发监听事件if部分”是的，但是if里面是在反复地clear定时器和重设定时器，这个定时器里面的回调只要不执行，last就不会刷新为now。“在else逻辑中应该加入clearTimeout”，不见得。用户如果确实操作了多次，而我们只给了他一次反馈，也会造成困惑的。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b722f415188256114661f0d" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09345b433862726?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09345b433862726?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b722f415188256114661f0d" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b722f415188256114661f0d" target="_blank" rel="" class="username username" data-v-1d86e78f="">Connie_豆<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><span data-v-9bacb4c6="" class="text-reply">回复<a data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel=""><span data-v-9bacb4c6="" class="username">修言</span></a>：</span><span data-v-9bacb4c6="" class="content-html">现在才看到大佬的回复，话说过了几个月回来看发现都看懂了，而且还被自己蠢哭了，哈哈。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">1月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5c7fc41b5188250a43238f7a" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/3/6/169531bd630d1b33?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5c7fc41b5188250a43238f7a" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5c7fc41b5188250a43238f7a" target="_blank" rel="" class="username username" data-v-1d86e78f="">子晓<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><span data-v-9bacb4c6="" class="text-reply">回复<a data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel=""><span data-v-9bacb4c6="" class="username">修言</span></a>：</span><span data-v-9bacb4c6="" class="content-html">解释的很棒！学习了</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">24天前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5638dcd700b0c060339ef8e0" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5638dcd700b0c060339ef8e0" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://lc-gold-cdn.xitu.io/08c49bff58faf45eda0a.png?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5638dcd700b0c060339ef8e0" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5638dcd700b0c060339ef8e0" target="_blank" rel="" class="username" data-v-1d86e78f="">omgdog<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">搬砖工 @ 广州某工地</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">用司机开车来解释节流和防抖，很是形象👍</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">1</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">6月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b8c8825e51d4577c32b5722" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b8c8825e51d4577c32b5722" target="_blank" rel="" class="username" data-v-1d86e78f="">爱烤火的鱼<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">let now = +new Date()这个"+"号是什么意思</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">6月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5bcfc314e51d457a5975e85c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e0957408adf0825c?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5bcfc314e51d457a5975e85c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5bcfc314e51d457a5975e85c" target="_blank" rel="" class="username username" data-v-1d86e78f="">珈蓝小羊人<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-9bacb4c6="" class="position">前端攻城狮 @ 北京某司</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">new Date()返回的是date类型，+new Date()返回的是时间戳，运行下就看出来了</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5be2636bf265da6170069a12" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5be2636bf265da6170069a12" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5be2636bf265da6170069a12" target="_blank" rel="" class="username username" data-v-1d86e78f="">lin1998<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">强制类型转换 将日期转换为数字</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5be2636bf265da6170069a12" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5be2636bf265da6170069a12" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5be2636bf265da6170069a12" target="_blank" rel="" class="username username" data-v-1d86e78f="">lin1998<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">最好使用Date.now()</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5c2c54ca6fb9a049cb18da5a" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5c2c54ca6fb9a049cb18da5a" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5c2c54ca6fb9a049cb18da5a" target="_blank" rel="" class="username username" data-v-1d86e78f="">马克龙<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">new Date().valueOf()</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8c8825e51d4577c32b5722" target="_blank" rel="" class="username username" data-v-1d86e78f="">爱烤火的鱼<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><span data-v-9bacb4c6="" class="text-reply">回复<a data-v-9bacb4c6="" href="https://juejin.im/user/5bcfc314e51d457a5975e85c" target="_blank" rel=""><span data-v-9bacb4c6="" class="username">珈蓝小羊人</span></a>：</span><span data-v-9bacb4c6="" class="content-html">谢谢赐教</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><ul data-v-3c109590="" data-v-3d8f15e3="" class="pagination pagination"><!----><li data-v-3c109590="" class="item current">1</li><li data-v-3c109590="" class="item">2</li><li data-v-3c109590="" class="item">下一页</li></ul></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5903d7f8a22b9d0065d4a767" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5903d7f8a22b9d0065d4a767" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5903d7f8a22b9d0065d4a767" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5903d7f8a22b9d0065d4a767" target="_blank" rel="" class="username" data-v-1d86e78f="">qianfang<!----></a></div><div data-v-38ab5be4="" class="position">前端工程师</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">fn.apply(context, args);这个感觉没必要啊，fn()不就可以了</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">8月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5903d7f8a22b9d0065d4a767" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5903d7f8a22b9d0065d4a767" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5903d7f8a22b9d0065d4a767" target="_blank" rel="" class="username username" data-v-1d86e78f="">qianfang<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">let args = arguments，还有感觉既然fn.apply(context, args);这个维数组最好转化一下</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">8月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57e1335e8ac2470061766c37" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/3/15/16981334efe167ca?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/3/15/16981334efe167ca?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57e1335e8ac2470061766c37" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/57e1335e8ac2470061766c37" target="_blank" rel="" class="username username" data-v-1d86e78f="">云旭泉<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-9bacb4c6="" class="position">前端 @ 微步</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">这是为了防止传null的情况</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">7月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5c307641e51d45517624a74c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09b5229b2ece8b1?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09b5229b2ece8b1?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5c307641e51d45517624a74c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5c307641e51d45517624a74c" target="_blank" rel="" class="username username" data-v-1d86e78f="">爱码士不想说话<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><span data-v-9bacb4c6="" class="text-reply">回复<a data-v-9bacb4c6="" href="https://juejin.im/user/57e1335e8ac2470061766c37" target="_blank" rel=""><span data-v-9bacb4c6="" class="username">云旭泉</span></a>：</span><span data-v-9bacb4c6="" class="content-html">传null是什么意思</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">5天前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5ad2ab5d6fb9a028c14ae6de" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5ad2ab5d6fb9a028c14ae6de" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/8/9/16c73b45e5a27cc6?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/8/9/16c73b45e5a27cc6?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5ad2ab5d6fb9a028c14ae6de" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5ad2ab5d6fb9a028c14ae6de" target="_blank" rel="" class="username" data-v-1d86e78f="">_呜啦啦啦火车笛<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-3.e108c68.svg" alt="lv-3"></a></a></div><div data-v-38ab5be4="" class="position">Web前端开发 @ 金蝶软件（中国）有限公司</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">谢谢！！！面试常考</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">8月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a20471551882529642179dd" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5a20471551882529642179dd" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e08c1aa96b835d2b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08c1aa96b835d2b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a20471551882529642179dd" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5a20471551882529642179dd" target="_blank" rel="" class="username" data-v-1d86e78f="">ForinArray<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">这个实现非常不错，简短，清晰</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">8月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b2871cde51d4558a04a306d" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b2871cde51d4558a04a306d" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/7/3/1645f0a36a200b55?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b2871cde51d4558a04a306d" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b2871cde51d4558a04a306d" target="_blank" rel="" class="username" data-v-1d86e78f="">keno-lee<!----></a></div><div data-v-38ab5be4="" class="position">前端攻城狮</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">"用 Throttle 来优化 Debounce" 总结下，是 本次时间 - 上次时间 的差值 如果小于  delay时间，则以最后一次触发的回调为准(即执行debounce)；如果 差值 大于 delay，则执行第一次触发的回调(即throttle)。这么理解应当没问题吧</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">9月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5ab9ee245188255cb32e27b8" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5ab9ee245188255cb32e27b8" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/1/14/1684b38408285ca0?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/1/14/1684b38408285ca0?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5ab9ee245188255cb32e27b8" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5ab9ee245188255cb32e27b8" target="_blank" rel="" class="username" data-v-1d86e78f="">yadong<!----></a></div><div data-v-38ab5be4="" class="position">前端开发 @ 知乎</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">"用 Throttle 来优化 Debounce"这块的代码总是会被执行两遍？？？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">9月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b2871cde51d4558a04a306d" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/7/3/1645f0a36a200b55?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b2871cde51d4558a04a306d" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b2871cde51d4558a04a306d" target="_blank" rel="" class="username username" data-v-1d86e78f="">keno-lee<!----></a></div><div data-v-9bacb4c6="" class="position">前端攻城狮</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">条件择一执行，if else 不会两者都执行</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">9月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59f72fa6f265da431c6f9759" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/59f72fa6f265da431c6f9759" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e08ae3b94b630c5b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08ae3b94b630c5b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59f72fa6f265da431c6f9759" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/59f72fa6f265da431c6f9759" target="_blank" rel="" class="username" data-v-1d86e78f="">sophie旭<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html"><a href="https://zhuanlan.zhihu.com/p/38313717" target="_blank" rel="nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/38313717</a> 这个写的也很好</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5af0efeb518825672033ffd7" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5af0efeb518825672033ffd7" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/8/30/16ce0245772c1f56?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/8/30/16ce0245772c1f56?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5af0efeb518825672033ffd7" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5af0efeb518825672033ffd7" target="_blank" rel="" class="username" data-v-1d86e78f="">摩卡_mocha<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html collapsed">```javascript
 if (now - last &lt; delay) {
    // 如果时间间隔小于我们设定的时间间隔阈值，则为本次触发操作设立一个新的定时器
       clearTimeout(timer)
       timer = setTimeout(function () {
          last = now
          fn.apply(context, args)
        }, delay)
    } else {…</span><span data-v-38ab5be4="" class="show-all">展开全部</span></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5af0efeb518825672033ffd7" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/8/30/16ce0245772c1f56?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/8/30/16ce0245772c1f56?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5af0efeb518825672033ffd7" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5af0efeb518825672033ffd7" target="_blank" rel="" class="username username" data-v-1d86e78f="">摩卡_mocha<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">尴尬 掘金的评论不支持markdown。。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57ee1164a22b9d005bb2f27a" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2016/11/29/c5506e9ecbd6da757f02fb99835ce931.jpg?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57ee1164a22b9d005bb2f27a" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/57ee1164a22b9d005bb2f27a" target="_blank" rel="" class="username username" data-v-1d86e78f="">little123<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">确实有这个问题</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">5月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="58bf96c844d90400696b4c9b" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/58bf96c844d90400696b4c9b" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/5/28/163a77220d22ef1c?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="58bf96c844d90400696b4c9b" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/58bf96c844d90400696b4c9b" target="_blank" rel="" class="username" data-v-1d86e78f="">不是发哥<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">有代码洁癖的前端 @ 极志愿</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">咳咳，这样就没办法removeEventListene了，还是用个变量把函数保存起来好点</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">好建议~ 给你点个赞^_^</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a8e531f51882524d842d0a8" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5a8e531f51882524d842d0a8" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e08e0f197579109d?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a8e531f51882524d842d0a8" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5a8e531f51882524d842d0a8" target="_blank" rel="" class="username" data-v-1d86e78f="">乔同志<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">对于throttle和debounce的合体，在es6中执行的时候，每次调用throttle还是会执行到let last = 0, timer = null，这样子的话就没法屏蔽掉在delay时间段里的触发了</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b8c8825e51d4577c32b5722" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b8c8825e51d4577c32b5722" target="_blank" rel="" class="username" data-v-1d86e78f="">爱烤火的鱼<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">我也不太懂他为什么要保存this的值，防抖好截流都是这样</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5a12a0b46fb9a045076f44ea" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e08be61400b23518?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08be61400b23518?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5a12a0b46fb9a045076f44ea" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5a12a0b46fb9a045076f44ea" target="_blank" rel="" class="username username" data-v-1d86e78f="">zhangyanling77<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-9bacb4c6="" class="position">前端 @ 成都</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">因为是闭包</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">9月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="58ff02e0a0bb9f0065d13d6f" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/3/23/169aae8f5d309bf7?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="58ff02e0a0bb9f0065d13d6f" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/58ff02e0a0bb9f0065d13d6f" target="_blank" rel="" class="username username" data-v-1d86e78f="">cjfff<!----></a></div><div data-v-9bacb4c6="" class="position">前端开发工程师 @ null</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">因为闭包需要缓存自由变量实现每个调用函数的自我管理～</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">7月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bfb6aa9e51d453fb331b39a" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5bfb6aa9e51d453fb331b39a" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/11/28/16757bfa68880531?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bfb6aa9e51d453fb331b39a" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5bfb6aa9e51d453fb331b39a" target="_blank" rel="" class="username" data-v-1d86e78f="">何浪<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html collapsed">看起来“用 Throttle 来优化 Debounce”其实只是比 Throttle 多了一次调用而已。

假设delay为1000毫秒，如果用户在5500毫秒之内持续滚动页面。

使用Throttle会触发5次滚动事件，5000~5500这个时间段内的滚动会被忽略。

但是如果使用 “用 Throttle 来优化 Debounce”的话会触发 6 次滚动事件。…</span><span data-v-38ab5be4="" class="show-all">展开全部</span></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">3</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b89395ce51d4557631bfb9a" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b89395ce51d4557631bfb9a" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e093d0a4735e25d7?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b89395ce51d4557631bfb9a" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b89395ce51d4557631bfb9a" target="_blank" rel="" class="username" data-v-1d86e78f="">opfeer<!----></a></div><div data-v-38ab5be4="" class="position">全网最菜的前端</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">想知道保存的args 哪种场景能用到，示例中 调用防抖后返回的函数 怎么向里面传递参数呢</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">1</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="588e8d78b123db16a3720a6d" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="588e8d78b123db16a3720a6d" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/588e8d78b123db16a3720a6d" target="_blank" rel="" class="username username" data-v-1d86e78f="">looger<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">args 中传递的是默认event对象, 有时候fn中需要用到event.target</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="588e8d78b123db16a3720a6d" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="588e8d78b123db16a3720a6d" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/588e8d78b123db16a3720a6d" target="_blank" rel="" class="username username" data-v-1d86e78f="">looger<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">实际上即使不传args, fn中依然能取到event对象，我也看不到args的用处</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5ba26d99e51d450e7a24d4c3" target="_blank" rel="" class="username username" data-v-1d86e78f="">贝贝不想说话<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">想要向里面传递参数，可以这样:
function onScroll(args, eve) {
console.log('scroll' + eve);
   return function() {
   	console.log('scroll' + eve);
   }
}

window.addEventListener('scroll', debounce(onScroll('我要传参'), 500));</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5ba26d99e51d450e7a24d4c3" target="_blank" rel="" class="username username" data-v-1d86e78f="">贝贝不想说话<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html collapsed">function onScroll(param) {
	console.log('param:', param);  // 我要传参
   	return function(...event) {
   		console.log('event:', event);  // [MouseEvent]
   }
}

window.addEventListener('click', debounce(onScroll('我要传参'), 500));…</span><span data-v-9bacb4c6="" class="show-all">展开全部</span></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="589fbf95570c3500577268cd" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/589fbf95570c3500577268cd" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e084105f2b98feac?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="589fbf95570c3500577268cd" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/589fbf95570c3500577268cd" target="_blank" rel="" class="username" data-v-1d86e78f="">wonile<!----></a></div><div data-v-38ab5be4="" class="position">前端研发工程师 @ ***</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">Hi，文章写得很棒，但是有一个疑问，用throttle优化的debounce和直接使用 throttle 相比好在哪里呢？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">1</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">其实就是为了适当增加反馈频率。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="589fbf95570c3500577268cd" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e084105f2b98feac?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="589fbf95570c3500577268cd" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/589fbf95570c3500577268cd" target="_blank" rel="" class="username username" data-v-1d86e78f="">wonile<!----></a></div><div data-v-9bacb4c6="" class="position">前端研发工程师 @ ***</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">这样的话感觉就debounce变成了throttle，哈哈</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5bd09bf6e51d457abf548a49" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e0957d43457f4bda?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5bd09bf6e51d457abf548a49" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5bd09bf6e51d457abf548a49" target="_blank" rel="" class="username username" data-v-1d86e78f="">爱生活<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">我理解的是，用throttle优化的debounce记录了最后一个user interaction，从用户的角度来说，减少突兀感。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e093d8ff01da8f4f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8c8825e51d4577c32b5722" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8c8825e51d4577c32b5722" target="_blank" rel="" class="username username" data-v-1d86e78f="">爱烤火的鱼<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><span data-v-9bacb4c6="" class="text-reply">回复<a data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel=""><span data-v-9bacb4c6="" class="username">修言</span></a>：</span><span data-v-9bacb4c6="" class="content-html">大哥你回答能否通俗点</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="58eeea75a0bb9f006a7f23c0" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://leancloud-gold-cdn.xitu.io/WBsXGwMQAYW0ST9paXKIEoD?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://leancloud-gold-cdn.xitu.io/WBsXGwMQAYW0ST9paXKIEoD?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="58eeea75a0bb9f006a7f23c0" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/58eeea75a0bb9f006a7f23c0" target="_blank" rel="" class="username username" data-v-1d86e78f="">今年才三岁<!----></a></div><div data-v-9bacb4c6="" class="position">前端开发</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">我理解的是如果 [throttle] 和 [throttle优化的debounce] 设置的时间阀都是3s的话，如果用户在前2s内一直触发事件，那么[throttle]触发一次 , [throttle优化的debounce]触发两次。明显优化版本更明智一些，会保留一次触发</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><ul data-v-3c109590="" data-v-3d8f15e3="" class="pagination pagination"><!----><li data-v-3c109590="" class="item current">1</li><li data-v-3c109590="" class="item">2</li><li data-v-3c109590="" class="item">下一页</li></ul></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59b0b10c6fb9a0247b3b932b" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/59b0b10c6fb9a0247b3b932b" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e08872f18b27163a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08872f18b27163a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59b0b10c6fb9a0247b3b932b" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/59b0b10c6fb9a0247b3b932b" target="_blank" rel="" class="username" data-v-1d86e78f="">lulucreate<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">请问闭包里面为啥需要保存 this 呢？ 这里没有改变作用域的情况</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5a1271a451882512a860ea2c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e08be34f6db1e325?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08be34f6db1e325?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5a1271a451882512a860ea2c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5a1271a451882512a860ea2c" target="_blank" rel="" class="username username" data-v-1d86e78f="">960492612<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">setTimeout就是</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="59af6538f265da246d6b2a25" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/3/30/169cd23c307cddf3?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/3/30/169cd23c307cddf3?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="59af6538f265da246d6b2a25" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/59af6538f265da246d6b2a25" target="_blank" rel="" class="username username" data-v-1d86e78f="">JS菌<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-3.e108c68.svg" alt="lv-3"></a></a></div><div data-v-9bacb4c6="" class="position">前端开发</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">其实不需要保存 this；直接用就好了；如果遇到timeout 那就用箭头函数；所以不需要保存</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">8月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5a8d0fa6f265da4e8700d7d1" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e08e0d95b0eacdaa?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08e0d95b0eacdaa?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5a8d0fa6f265da4e8700d7d1" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5a8d0fa6f265da4e8700d7d1" target="_blank" rel="" class="username username" data-v-1d86e78f="">luohuidong<!----></a></div><div data-v-9bacb4c6="" class="position">前端</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">主要原因是出在 setTimeout 的 this 指向问题。

setTimeout this 问题：Code executed by setTimeout() is called from an execution context separate from the function from which setTimeout was called.</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">6月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a90d49d5188257a6049ad91" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5a90d49d5188257a6049ad91" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/9/16/165de17e612fce61?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/9/16/165de17e612fce61?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a90d49d5188257a6049ad91" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5a90d49d5188257a6049ad91" target="_blank" rel="" class="username" data-v-1d86e78f="">字符串<!----></a></div><div data-v-38ab5be4="" class="position">前端开发</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">楼主平常不用ES6开发吗？为啥都是ES5的编码风格</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">3</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b68f3b6e51d45190869b23e" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b68f3b6e51d45190869b23e" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e092e59481ade3c7?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e092e59481ade3c7?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b68f3b6e51d45190869b23e" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b68f3b6e51d45190869b23e" target="_blank" rel="" class="username" data-v-1d86e78f="">Try  to do<!----></a></div><div data-v-38ab5be4="" class="position">web前端</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">最后一段代码少了一个花括号  直接放到控制台会报错</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">细心，点赞！已补全~</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bd7c04c6fb9a05d035c27d5" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5bd7c04c6fb9a05d035c27d5" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e095a5d4ae41b610?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e095a5d4ae41b610?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bd7c04c6fb9a05d035c27d5" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5bd7c04c6fb9a05d035c27d5" target="_blank" rel="" class="username" data-v-1d86e78f="">dejavuwow<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">最后一段throttle和debounce的合体代码是否有点问题。假设delay是2s，在1.9s滚动一次，和在2.1s滚动一次。具体是不是触发了两次，一次是立即触发在2.1s，另一次则是延迟触发在3.9s。是否需要在else里清除定时器呢才是预期的效果呢。</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">1</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">读得很细致，也形成了自己的思考，点赞！此处我们增加一个if else判断，意在在debounce的基础上，避免长时间无反馈的尴尬情况(或者说在throttle的基础上，结合了debounce的一些思路）。它的目的就是想要比简单的的debounce做的更“多”一些，能够给用户提供稍微多那么一点点的反馈。有两类触发我们不能错过，一个是自上次触发开始计时、到达delay时间长度的那一次触发（就是你说的3.9s触发的那一次），还有一个就是超出了这个delay时间长度的那一次触发（即2.1s那一次触发）。在实际的业务中，这种操作暂时没有为我们带来什么问题。但事事无绝对，else处这个定时器是否要去除，其实是见仁见智。如果去了，反馈的频率会稍微低一些，但是否是预期的效果，其实要根据回调的内容、具体的业务需求来看。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="584139d779bc440065ab4557" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/30/166c26903cca30ab?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="584139d779bc440065ab4557" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/584139d779bc440065ab4557" target="_blank" rel="" class="username username" data-v-1d86e78f="">林振杰<!----></a></div><div data-v-9bacb4c6="" class="position">前端开发工程师</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">定时器的延时间隔是不是该取时间差的最小集？ else处实际是另一方补救
timer = setTimeout(function () {
    last = now
    fn.apply(context, args)
}, Math.min(now - last - 1, delay))</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5ba26d99e51d450e7a24d4c3" target="_blank" rel="" class="username username" data-v-1d86e78f="">贝贝不想说话<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">写的非常清楚，但是有一点不太明白，基本 debounce 函数，那里   if(timer) {
        clearTimeout(timer)
    }  
这段代码用于不会生效吧？ 因为在每次调用的时候，timer 就被赋值为 null 了</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5ba26d99e51d450e7a24d4c3" target="_blank" rel="" class="username username" data-v-1d86e78f="">贝贝不想说话<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">应该不止2次吧，这个判断  now - last &lt; delay 在3.9s 之前都是不成立的吧？都会走 else 立即执行</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5ba26d99e51d450e7a24d4c3" target="_blank" rel="" class="username username" data-v-1d86e78f="">贝贝不想说话<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><span data-v-9bacb4c6="" class="text-reply">回复<a data-v-9bacb4c6="" href="https://juejin.im/user/5ba26d99e51d450e7a24d4c3" target="_blank" rel=""><span data-v-9bacb4c6="" class="username">贝贝不想说话</span></a>：</span><span data-v-9bacb4c6="" class="content-html">这个问题可以忽略了。。。。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="57b577515bbb500063033eb0" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/57b577515bbb500063033eb0" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/5/29/16b028263cf8b532?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/5/29/16b028263cf8b532?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="57b577515bbb500063033eb0" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/57b577515bbb500063033eb0" target="_blank" rel="" class="username" data-v-1d86e78f="">ANT1994<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">前端进阶ing工程师</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">再次点赞</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">2</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">12月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57b577515bbb500063033eb0" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/5/29/16b028263cf8b532?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/5/29/16b028263cf8b532?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57b577515bbb500063033eb0" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/57b577515bbb500063033eb0" target="_blank" rel="" class="username username" data-v-1d86e78f="">ANT1994<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-9bacb4c6="" class="position">前端进阶ing工程师</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">今天反过来看，防抖和节流的概念是不是说反了</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57b577515bbb500063033eb0" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/5/29/16b028263cf8b532?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/5/29/16b028263cf8b532?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57b577515bbb500063033eb0" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/57b577515bbb500063033eb0" target="_blank" rel="" class="username username" data-v-1d86e78f="">ANT1994<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-9bacb4c6="" class="position">前端进阶ing工程师</div></div></div><div data-v-9bacb4c6="" class="content"><span data-v-9bacb4c6="" class="text-reply">回复<a data-v-9bacb4c6="" href="https://juejin.im/user/57b577515bbb500063033eb0" target="_blank" rel=""><span data-v-9bacb4c6="" class="username">ANT1994</span></a>：</span><span data-v-9bacb4c6="" class="content-html">好像没问题，看走眼了，不好意思</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><!----></ul></section></div></div><!----><!----></div></div><div data-v-5a7972c3="" data-v-4ea4d930="" class="book-handle book-direction"><div data-v-5a7972c3="" class="step-btn step-btn--prev"><img data-v-5a7972c3="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/prev.87ad47e.svg"></div><div data-v-5a7972c3="" class="step-btn step-btn--next"><img data-v-5a7972c3="" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/next.54d8a35.svg"></div><!----><!----></div><!----></div></div></section><!----><!----><!----><div data-v-fa360b4a="" data-v-4ea4d930="" class="image-viewer-box"><!----></div></div><!----></div>
      
      
      <script type="text/javascript" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/runtime.17cb348ef7939a8ddc67.js"></script><script type="text/javascript" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/0.34b7731eda33454484c1.js"></script><script type="text/javascript" src="./12_应用篇 2：事件的节流（throttle）与防抖（debounce）_files/1.b93c59c13de60fb0e255.js"></script>
    </body></html>