<!DOCTYPE html>
<!-- saved from url=(0080)https://juejin.im/book/5b936540f265da0a9624b04b/section/5bac3a4df265da0aa81c043c -->
<html lang="zh-Hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><meta name="google-site-verification" content="cCHsgG9ktuCTgWgYfqCJql8AeR4gAne4DTZqztPoirE"><meta name="apple-itunes-app" content="app-id=987739104"><meta name="baidu-site-verification" content="qiK2a1kcFc"><meta name="360-site-verification" content="4c3c7d57d59f0e1a308462fbc7fd7e51"><meta name="sogou_site_verification" content="c49WUDZczQ"><style>body {
        font-size: 16px;
        line-height: 2;
      }
      a, button, input {
        margin: 1rem 1.5rem;
      }
      img {
        width: 0;
        height: 0;
      }
      #juejin {
        overflow-x: hidden;
      }</style><title data-vue-meta="true">前端性能优化原理与实践 - 修言 - 掘金小册</title><link rel="apple-touch-icon" sizes="180x180" href="https://b-gold-cdn.xitu.io/favicons/v2/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-16x16.png"><link rel="manifest" href="https://b-gold-cdn.xitu.io/favicons/v2/manifest.json"><link rel="mask-icon" href="https://b-gold-cdn.xitu.io/favicons/v2/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon.ico"><meta name="msapplication-config" content="https://b-gold-cdn.xitu.io/favicons/v2/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="search" title="掘金" href="https://b-gold-cdn.xitu.io/conf/search.xml" type="application/opensearchdescription+xml"><link rel="stylesheet" href="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/ionicons.min.css"><link rel="stylesheet" href="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/iconfont.css"><link href="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/0.660985ddeca6add31f2b.css" rel="stylesheet"><style type="text/css" abt="234"></style><script async="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/hm.js"></script><script async="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/analytics.js"></script><script type="text/javascript" async="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/vds.js"></script><script charset="utf-8" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/3.01b6d5556ba9a1ddd709.js"></script><meta data-vmid="keywords" name="keywords" content="掘金,稀土,Vue.js,微信小程序,Kotlin,RxJava,React Native,Wireshark,敏捷开发,Bootstrap,OKHttp,正则表达式,WebGL,Webpack,Docker,MVVM" data-vue-meta="true"><meta data-vmid="description" name="description" content="掘金是一个帮助开发者成长的社区，是给开发者用的 Hacker News，给设计师用的 Designer News，和给产品经理用的 Medium。掘金的技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货，其中包括：Android、iOS、前端、后端等方面的内容。用户每天都可以在这里找到技术世界的头条内容。与此同时，掘金内还有沸点、掘金翻译计划、线下活动、专栏文章等内容。即使你是 GitHub、StackOverflow、开源中国的用户，我们相信你也可以在这里有所收获。" data-vue-meta="true"><script>//console.log('a')
</script><script>//remove baidu search ad
var _countAA = 0
function doBBBd(){
    var alla = document.getElementsByTagName('a')
    for(var i = 0; i < alla.length; i++){
        if(/baidu.com\/(baidu.php\?url=|adrc.php\?t)/.test(alla[i].href)){
            var _temp = alla[i].parentElement, loop = 0
            while(loop < 5){
                _temp = _temp.parentElement
                loop++
                if(_temp.parentElement.id == 'content_left'){
                    _temp.remove()
                    break
                }
            }
        }
    }
    
    if(_countAA++ < 20){
        setTimeout(doBBBd, 500)
    }
    
}
doBBBd()
document.addEventListener('keyup', function(){_countAA-=10;doBBBd()}, false)
document.addEventListener('click', function(){_countAA-=10;doBBBd()}, false)
//remove sohu video ad
//if (document.URL.indexOf("tv.sohu.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
//remove 56.com video ad
//if (document.URL.indexOf("56.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
</script><script charset="utf-8" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/12.6fc23092cb351829a8d6.js"></script><script async="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/aliplayer-min.js"></script></head><body><div id="juejin" data-v-5cbcd4ce=""><div class="global-component-box" data-v-5cbcd4ce=""><!----><div data-v-33bc5e87="" data-v-5cbcd4ce="" class="alert-list alert-list"></div><!----><!----><!----><div class="emoji-barrage" data-v-9b37bde4="" data-v-5cbcd4ce=""><!----></div><div class="book-new-user-award-popup" style="display:none;" data-v-591321ae="" data-v-5cbcd4ce=""><div class="content-box" style="display:;" data-v-591321ae=""><div class="close ion-close-round" data-v-591321ae=""></div><div class="header" data-v-591321ae=""><div class="icon" data-v-591321ae=""><img src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/icon.a87e5ae.svg" data-v-591321ae=""></div><div class="txt" data-v-591321ae="">新人专享好礼</div></div><div class="desc" data-v-591321ae="">凡未购买过小册的用户，均可领取三张 5 折新人专享券，购买小册时自动使用专享券，最高可节省 45 元。</div><div class="tickets" data-v-591321ae=""><div class="ticket" data-v-591321ae=""><div class="ticket__inner" data-v-591321ae=""><div class="enjoy" data-v-591321ae=""><span class="new-title" data-v-591321ae="">小册新人 5 折券</span></div><div class="sale" data-v-591321ae="">最高可省 15 元</div></div></div><div class="ticket" data-v-591321ae=""><div class="ticket__inner" data-v-591321ae=""><div class="enjoy" data-v-591321ae=""><span class="new-title" data-v-591321ae="">小册新人 5 折券</span></div><div class="sale" data-v-591321ae="">最高可省 15 元</div></div></div><div class="ticket" data-v-591321ae=""><div class="ticket__inner" data-v-591321ae=""><div class="enjoy" data-v-591321ae=""><span class="new-title" data-v-591321ae="">小册新人 5 折券</span></div><div class="sale" data-v-591321ae="">最高可省 15 元</div></div></div></div><div class="remark" data-v-591321ae="">注：专享券的使用期限在领券的七天内。</div><div class="submit-btn" data-v-591321ae="">一键领取</div></div><div class="model success" style="display:none;" data-v-591321ae=""><div class="heading" data-v-591321ae="">领取成功</div><div class="content-text" data-v-591321ae="">购买小册时自动使用专享券</div><div class="btn-success-footer" data-v-591321ae=""><div class="btn-ok" data-v-591321ae="">知道了</div><div class="btn-ok btn-link" data-v-591321ae="">前往小册首页</div></div></div><div class="model fail" style="display:none;" data-v-591321ae=""><div class="heading" data-v-591321ae="">领取失败</div><div class="content-text" data-v-591321ae="">本活动仅适用于小册新用户</div><div class="btn-ok" data-v-591321ae="">知道了</div></div></div><!----><!----><div class="bind-phone-number-modal-box" data-v-4fdfa234="" data-v-5cbcd4ce=""><div st:block="bindPhoneNumberModal" class="modal-mask" style="display:none;" data-v-4fdfa234=""></div><form class="bind-phone-number-form" style="display:none;" data-v-4fdfa234=""><i title="关闭" class="close-btn ion-close-round" data-v-4fdfa234=""></i><h1 class="title" data-v-4fdfa234="">提示</h1><h2 class="hint" data-v-4fdfa234="">根据我国<a href="http://www.cac.gov.cn/2017-08/25/c_1121541842.htm" target="_blank" style="color:#007fff">《互联网跟帖评论服务管理规定》</a>，您需要绑定手机号后才可在掘金社区内发布内容。</h2><div class="input-group" data-v-4fdfa234=""><div class="input-box" data-v-4fdfa234=""><input maxlength="64" placeholder="请输入要绑定的手机号码" value="" class="input" data-v-4fdfa234=""></div><!----><!----></div><button st:name="bindBtn" class="btn" data-v-4fdfa234="">绑定手机</button></form></div></div><!----><div data-v-4ea4d930="" data-v-5cbcd4ce="" class="book-read-view"><section data-v-4ea4d930="" class="book-section"><div data-v-4ea4d930="" class="book-summary"><div data-v-4ea4d930="" class="book-summary-masker"></div><div data-v-4ea4d930="" class="book-summary-inner"><div data-v-4ea4d930="" class="book-summary__header"><a data-v-4ea4d930="" href="https://juejin.im/books" target="" rel="" class="logo"><img data-v-4ea4d930="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/logo.a7995ad.svg"></a><div data-v-4ea4d930="" class="label">小册</div><!----></div><!----><div data-v-d0eb2184="" data-v-4ea4d930="" class="book-directory book-directory bought"><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">1</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">开篇：知识体系与小册格局</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">2</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">网络篇 1：webpack 性能调优与 Gzip 原理</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">3</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">网络篇 2：图片优化——质量与性能的博弈</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">4</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">存储篇 1：浏览器缓存机制介绍与缓存策略剖析</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">5</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">存储篇 2：本地存储——从 Cookie 到 Web Storage、IndexedDB</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">6</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">彩蛋篇：CDN 的缓存与回源机制解析</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link read"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">7</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 1：服务端渲染的探索与实践</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section route-active section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">8</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 2：知己知彼——解锁浏览器背后的运行机制</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">9</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 3：对症下药——DOM 优化原理与基本实践</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">10</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 4：千方百计——Event Loop 与异步更新策略</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">11</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">渲染篇 5：最后一击——回流（Reflow）与重绘（Repaint）</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">12</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">应用篇 1：优化首屏体验——Lazy-Load 初探</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">13</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">应用篇 2：事件的节流（throttle）与防抖（debounce）</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">14</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">性能监测篇：Performance、LightHouse 与性能 API</div><!----><!----></div><!----></a><a data-v-d0eb2184="" class="section section-link"><div data-v-d0eb2184="" class="step"><div data-v-d0eb2184="" class="step-btn">15</div></div><div data-v-d0eb2184="" class="center"><div data-v-d0eb2184="" class="title">前方的路：希望以此为你的起点</div><!----><!----></div><!----></a></div><div data-v-4ea4d930="" class="book-summary__footer"><div data-v-4ea4d930="" class="qr-icon"><img data-v-4ea4d930="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/qr-icon.881015a.svg"></div><div data-v-4ea4d930="" class="qr-tips"><span data-v-4ea4d930="" class="ion-close"></span><div data-v-4ea4d930="" class="title"><span data-v-4ea4d930="">关注公众号</span><span data-v-4ea4d930="">领取优惠码</span></div><div data-v-4ea4d930="" class="qr-img"><img data-v-4ea4d930="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/wx-qr.13d8b4d.png"></div></div></div></div></div><div data-v-4ea4d930="" class="book-content"><div data-v-4ea4d930="" class="book-content-inner"><div data-v-4ea4d930="" class="book-content__header visible"><div data-v-4ea4d930="" class="switch"><img data-v-4ea4d930="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/icon.3e69d5a.svg"></div><div data-v-4ea4d930="" class="menu"><img data-v-4ea4d930="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/menu.74b9add.svg"></div><div data-v-4ea4d930="" class="title"><a data-v-4ea4d930="" href="https://juejin.im/book/5b936540f265da0a9624b04b" target="" rel="">前端性能优化原理与实践</a></div><div data-v-02bf4dd6="" data-v-4ea4d930="" class="user-auth user-auth"><div data-v-02bf4dd6="" class="nav-item menu"><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-02bf4dd6="" data-src="https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div><div data-v-02bf4dd6="" class="nav-menu user-dropdown-list" style="display: none;"><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-write"></i><span data-v-02bf4dd6="">写文章</span></a></li><!----><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-draft"></i><span data-v-02bf4dd6="">草稿</span></a></li></ul><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4"><i data-v-02bf4dd6="" class="fengwei fw-person"></i><span data-v-02bf4dd6="">我的主页</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4/likes"><i data-v-02bf4dd6="" class="fengwei fw-like"></i><span data-v-02bf4dd6="">我喜欢的</span></a></li><!----><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4/collections"><i data-v-02bf4dd6="" class="fengwei fw-collection"></i><span data-v-02bf4dd6="">我的收藏集</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/58f58116570c35005646eed4/books?type=bought"><i data-v-02bf4dd6="" class="fengwei fw-bought"></i><span data-v-02bf4dd6="">已购</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/subscribe"><i data-v-02bf4dd6="" class="fengwei fw-tag"></i><span data-v-02bf4dd6="">标签管理</span></a></li></ul><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/user/settings"><i data-v-02bf4dd6="" class="fengwei fw-setting"></i><span data-v-02bf4dd6="">设置</span></a></li><li data-v-02bf4dd6="" class="nav-menu-item more"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-info"></i><span data-v-02bf4dd6="">关于</span><i data-v-02bf4dd6="" class="ion-chevron-right more-icon"></i></a><div data-v-02bf4dd6="" class="nav-menu more-dropdown-list"><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/app" target="_blank">下载应用</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://juejin.im/about" target="_blank">关于</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://xitu.io/jobs" target="_blank">加入我们</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://github.com/xitu/gold-miner" rel="nofollow noopener noreferrer" target="_blank">翻译计划</a></li><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6="" href="https://bd.juejin.im/?utm_campaign=bd&amp;utm_source=web&amp;utm_medium=nav" target="_blank">合作伙伴</a></li></ul></div></li></ul><ul data-v-02bf4dd6="" class="nav-menu-item-group"><li data-v-02bf4dd6="" class="nav-menu-item"><a data-v-02bf4dd6=""><i data-v-02bf4dd6="" class="fengwei fw-logout"></i><span data-v-02bf4dd6="">登出</span></a></li></ul></div></div><!----></div><!----></div><div data-v-4ea4d930="" class="book-body transition--next"><div data-v-1dcbd6ba="" data-v-4ea4d930="" class="section-view book-section-content"><div data-v-6796091a="" data-v-1dcbd6ba="" class="section-content"><div data-v-6796091a="" class="section-page book-section-view"><div data-v-6796091a="" class="entry-content article-content"><h1 class="heading" data-id="heading-0">知己知彼——解锁浏览器背后的运行机制</h1>
<p>从本章开始，我们的性能优化探险也正式进入到了“深水区”——浏览器端的性能优化。</p>
<p>平时我们几乎每天都在和浏览器打交道，在一些兼容任务比较繁重的团队里，苦逼的前端攻城师们甚至为了兼容各个浏览器而不断地去测试和调试，还要在脑子中记下各种遇到的 BUG 及解决方案。即便如此，我们好像并没有去主动地关注和了解下浏览器的工作原理。我想如果我们对此做一点了解，在项目过程中就可以有效地避免一些问题，并对页面性能做出相应的改进。</p>
<p>“知己知彼，百战不殆”，今天，我们就一起来揭开浏览器渲染过程的神秘面纱！</p>
<h2 class="heading" data-id="heading-1">浏览器的“心”</h2>
<p>浏览器的“心”，说的就是浏览器的内核。在研究浏览器微观的运行机制之前，我们首先要对浏览器内核有一个宏观的把握。</p>
<p>开篇我提到许多工程师因为业务需要，免不了需要去处理不同浏览器下代码渲染结果的差异性。这些差异性正是因为浏览器内核的不同而导致的——浏览器内核决定了浏览器解释网页语法的方式。<br>
浏览器内核可以分成两部分：渲染引擎（Layout Engine 或者 Rendering Engine）和 JS 引擎。早期渲染引擎和 JS 引擎并没有十分明确的区分，但随着 JS 引擎越来越独立，内核也成了渲染引擎的代称（<strong>下文我们将沿用这种叫法</strong>）。渲染引擎又包括了 HTML 解释器、CSS 解释器、布局、网络、存储、图形、音视频、图片解码器等等零部件。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2018/9/27/16619bf6505a94db?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1042" data-height="282" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/16619bf6505a94db"><figcaption></figcaption></figure><p></p>
<p>目前市面上常见的浏览器内核可以分为这四种：Trident（IE）、Gecko（火狐）、Blink（Chrome、Opera）、Webkit（Safari）。</p>
<p>这里面大家最耳熟能详的可能就是 Webkit 内核了。很多同学可能会听说过 Chrome 的内核就是 Webkit，殊不知 Chrome 内核早已迭代为了 Blink。但是换汤不换药，Blink 其实也是基于 Webkit 衍生而来的一个分支，因此，Webkit 内核仍然是当下浏览器世界真正的霸主。</p>
<p>下面我们就以 Webkit 为例，对现代浏览器的渲染过程进行一个深度的剖析。</p>
<h2 class="heading" data-id="heading-2">开启浏览器渲染“黑盒”</h2>
<p>什么是渲染过程？简单来说，渲染引擎根据 HTML 文件描述构建相应的数学模型，调用浏览器各个零部件，从而将网页资源代码转换为图像结果，这个过程就是渲染过程（如下图）。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2018/9/27/16618c7f0cb0768a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="675" data-height="122" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/16618c7f0cb0768a"><figcaption></figcaption></figure><p></p>
<p>从这个流程来看，浏览器呈现网页这个过程，宛如一个黑盒。在这个神秘的黑盒中，有许多功能模块，内核内部的实现正是这些功能模块相互配合协同工作进行的。其中我们最需要关注的，就是<strong>HTML 解释器</strong>、<strong>CSS 解释器</strong>、<strong>图层布局计算模块</strong>、<strong>视图绘制模块</strong>与<strong>JavaScript 引擎</strong>这几大模块：</p>
<ul>
<li>
<p>HTML 解释器：将 HTML 文档经过词法分析输出 DOM 树。</p>
</li>
<li>
<p>CSS 解释器：解析 CSS 文档, 生成样式规则。</p>
</li>
<li>
<p>图层布局计算模块：布局计算每个对象的精确位置和大小。</p>
</li>
<li>
<p>视图绘制模块：进行具体节点的图像绘制，将像素渲染到屏幕上。</p>
</li>
<li>
<p>JavaScript 引擎：编译执行 Javascript 代码。</p>
</li>
</ul>
<h2 class="heading" data-id="heading-3">浏览器渲染过程解析</h2>
<p>有了对零部件的了解打底，我们就可以一起来走一遍浏览器的渲染流程了。在浏览器里，每一个页面的首次渲染都经历了如下阶段（图中箭头不代表串行，有一些操作是并行进行的，下文会说明）：</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2018/9/27/16618c829b879f35?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1280" data-height="319" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/16618c829b879f35"><figcaption></figcaption></figure><p></p>
<ul>
<li><strong>解析 HTML</strong></li>
</ul>
<p>在这一步浏览器执行了所有的加载解析逻辑，在解析 HTML 的过程中发出了页面渲染所需的各种外部资源请求。</p>
<ul>
<li><strong>计算样式</strong></li>
</ul>
<p>浏览器将识别并加载所有的 CSS 样式信息与 DOM 树合并，最终生成页面 render 树（:after :before 这样的伪元素会在这个环节被构建到 DOM 树中）。</p>
<ul>
<li><strong>计算图层布局</strong></li>
</ul>
<p>页面中所有元素的相对位置信息，大小等信息均在这一步得到计算。</p>
<ul>
<li><strong>绘制图层</strong></li>
</ul>
<p>在这一步中浏览器会根据我们的 DOM 代码结果，把每一个页面图层转换为像素，并对所有的媒体文件进行解码。</p>
<ul>
<li><strong>整合图层，得到页面</strong></li>
</ul>
<p>最后一步浏览器会合并合各个图层，将数据由 CPU 输出给 GPU 最终绘制在屏幕上。（复杂的视图层会给这个阶段的 GPU 计算带来一些压力，在实际应用中为了优化动画性能，我们有时会手动区分不同的图层）。</p>
<h2 class="heading" data-id="heading-4">几棵重要的“树”</h2>
<p>上面的内容没有理解透彻？别着急，我们一起来捋一捋这个过程中的重点——树！</p>
<p>为了使渲染过程更明晰一些，我们需要给这些”树“们一个特写:</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2018/9/27/16619d637d220b20?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1018" data-height="377" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/16619d637d220b20"><figcaption></figcaption></figure><p></p>
<ul>
<li>
<p>DOM 树：解析 HTML 以创建的是 DOM 树（DOM tree ）：渲染引擎开始解析 HTML 文档，转换树中的标签到 DOM 节点，它被称为“内容树”。</p>
</li>
<li>
<p>CSSOM 树：解析 CSS（包括外部 CSS 文件和样式元素）创建的是 CSSOM 树。CSSOM 的解析过程与 DOM 的解析过程是<strong>并行的</strong>。</p>
</li>
<li>
<p>渲染树：CSSOM 与 DOM 结合，之后我们得到的就是渲染树（Render tree ）。</p>
</li>
<li>
<p>布局渲染树：从根节点递归调用，计算每一个元素的大小、位置等，给每个节点所应该出现在屏幕上的精确坐标，我们便得到了基于渲染树的布局渲染树（Layout of the render tree）。</p>
</li>
<li>
<p>绘制渲染树: 遍历渲染树，每个节点将使用 UI 后端层来绘制。整个过程叫做绘制渲染树（Painting the render tree）。</p>
</li>
</ul>
<p>基于这些“树”，我们再梳理一番：</p>
<p>渲染过程说白了，首先是基于 HTML 构建一个 DOM 树，这棵 DOM 树与 CSS 解释器解析出的 CSSOM 相结合，就有了布局渲染树。最后浏览器以布局渲染树为蓝本，去计算布局并绘制图像，我们页面的初次渲染就大功告成了。</p>
<p>之后每当一个新元素加入到这个 DOM 树当中，浏览器便会通过 CSS 引擎查遍 CSS 样式表，找到符合该元素的样式规则应用到这个元素上，然后再重新去绘制它。</p>
<p>有心的同学可能已经在思考了，查表是个花时间的活，我怎么让浏览器的查询工作又快又好地实现呢？OK，讲了这么多原理，我们终于引出了我们的第一个可转化为代码的优化点——CSS 样式表规则的优化！</p>
<h2 class="heading" data-id="heading-5">不做无用功：基于渲染流程的 CSS 优化建议</h2>
<p>在给出 CSS 选择器方面的优化建议之前，先告诉大家一个小知识：CSS 引擎查找样式表，对每条规则都按从右到左的顺序去匹配。 看如下规则：</p>
<pre><code class="hljs css" lang="css"><span class="hljs-selector-id">#myList</span>  <span class="hljs-selector-tag">li</span> {}
</code></pre><p>这样的写法其实很常见。大家平时习惯了从左到右阅读的文字阅读方式，会本能地以为浏览器也是从左到右匹配 CSS 选择器的，因此会推测这个选择器并不会费多少力气：#myList 是一个 id 选择器，它对应的元素只有一个，查找起来应该很快。定位到了 myList 元素，等于是缩小了范围后再去查找它后代中的 li 元素，没毛病。</p>
<p>事实上，<strong>CSS 选择符是从右到左进行匹配的</strong>。我们这个看似“没毛病”的选择器，实际开销相当高：浏览器必须遍历页面上每个 li 元素，并且每次都要去确认这个 li 元素的父元素 id 是不是 myList，你说坑不坑！</p>
<p>说到坑，不知道大家还记不记得这个经典的通配符：</p>
<pre><code class="hljs css" lang="css">* {}
</code></pre><p>入门 CSS 的时候，不少同学拿通配符清除默认样式（我曾经也是通配符用户的一员）。但这个家伙很恐怖，它会匹配所有元素，所以浏览器必须去遍历每一个元素！大家低头看看自己页面里的元素个数，是不是心凉了——这得计算多少次呀！</p>
<p>这样一看，一个小小的 CSS 选择器，也有不少的门道！好的 CSS 选择器书写习惯，可以为我们带来非常可观的性能提升。根据上面的分析，我们至少可以总结出如下性能提升的方案：</p>
<ul>
<li>
<p>避免使用通配符，只对需要用到的元素进行选择。</p>
</li>
<li>
<p>关注可以通过继承实现的属性，避免重复匹配重复定义。</p>
</li>
<li>
<p>少用标签选择器。如果可以，用类选择器替代，举个🌰：</p>
<p>错误示范：</p>
<pre><code class="hljs css" lang="css"><span class="hljs-selector-id">#myList</span> <span class="hljs-selector-tag">li</span>{}
</code></pre><p>课代表：</p>
<pre><code class="hljs css" lang="css"><span class="hljs-selector-class">.myList_li</span> {}
</code></pre></li>
<li>
<p>不要画蛇添足，id 和 class 选择器不应该被多余的标签选择器拖后腿。举个🌰：</p>
<p>错误示范</p>
<pre><code class="hljs css" lang="css"><span class="hljs-selector-class">.myList</span><span class="hljs-selector-id">#title</span>
</code></pre><p>课代表</p>
<pre><code class="hljs css" lang="css"><span class="hljs-selector-id">#title</span>
</code></pre></li>
<li>
<p>减少嵌套。后代选择器的开销是最高的，因此我们应该尽量将选择器的深度降到最低（最高不要超过三层），尽可能使用类来关联每一个标签元素。</p>
</li>
</ul>
<p>搞定了 CSS 选择器，万里长征才刚刚开始的第一步。但现在你已经理解了浏览器的工作过程，接下来的征程对你来说并不再是什么难题~</p>
<h2 class="heading" data-id="heading-6">告别阻塞：CSS 与 JS 的加载顺序优化</h2>
<p>说完了过程，我们来说一说特性。</p>
<p>HTML、CSS 和 JS，都具有<strong>阻塞渲染</strong>的特性。</p>
<p>HTML 阻塞，天经地义——没有 HTML，何来 DOM？没有 DOM，渲染和优化，都是空谈。</p>
<p>那么 CSS 和 JS 的阻塞又是怎么回事呢？</p>
<h3 class="heading" data-id="heading-7">CSS 的阻塞</h3>
<p>在刚刚的过程中，我们提到 DOM 和 CSSOM 合力才能构建渲染树。这一点会给性能造成严重影响：默认情况下，CSS 是阻塞的资源。浏览器在构建 CSSOM 的过程中，<strong>不会渲染任何已处理的内容</strong>。即便 DOM 已经解析完毕了，只要 CSSOM 不 OK，那么渲染这个事情就不 OK（这主要是为了避免没有 CSS 的 HTML 页面丑陋地“裸奔”在用户眼前）。</p>
<p>我们知道，只有当我们开始解析 HTML 后、解析到 link 标签或者 style 标签时，CSS 才登场，CSSOM  的构建才开始。很多时候，DOM 不得不等待 CSSOM。因此我们可以这样总结：</p>
<blockquote>
<p>CSS 是阻塞渲染的资源。需要将它尽早、尽快地下载到客户端，以便缩短首次渲染的时间。</p>
</blockquote>
<p>事实上，现在很多团队都已经做到了尽早（将 CSS 放在 head 标签里）和尽快（启用 CDN 实现静态资源加载速度的优化）。这个“把 CSS 往前放”的动作，对很多同学来说已经内化为一种编码习惯。那么现在我们还应该知道，这个“习惯”不是空穴来风，它是由 CSS 的特性决定的。</p>
<h3 class="heading" data-id="heading-8">JS 的阻塞</h3>
<p>不知道大家注意到没有，前面我们说过程的时候，花了很多笔墨去说 HTML、说 CSS。相比之下，JS 的出镜率也太低了点。<br>
这当然不是因为 JS 不重要。而是因为，在首次渲染过程中，JS 并不是一个非登场不可的角色——没有 JS，CSSOM 和 DOM 照样可以组成渲染树，页面依然会呈现——即使它死气沉沉、毫无交互。</p>
<p>JS 的作用在于<strong>修改</strong>，它帮助我们修改网页的方方面面：内容、样式以及它如何响应用户交互。这“方方面面”的修改，本质上都是对 DOM 和 CSSDOM 进行修改。因此 JS 的执行会阻止 CSSOM，在我们不作显式声明的情况下，它也会阻塞 DOM。</p>
<p>我们通过一个🌰来理解一下这个机制：</p>
<pre><code class="hljs html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"X-UA-Compatible"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"ie=edge"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JS阻塞测试<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-id">#container</span> {
      <span class="hljs-attribute">background-color</span>: yellow;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// 尝试获取container元素</span>
    <span class="hljs-keyword">var</span> container = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"container"</span>)
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'container'</span>, container)
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// 尝试获取container元素</span>
    <span class="hljs-keyword">var</span> container = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"container"</span>)
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'container'</span>, container)
    <span class="hljs-comment">// 输出container元素此刻的背景色</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'container bgColor'</span>, getComputedStyle(container).backgroundColor)
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-id">#container</span> {
      <span class="hljs-attribute">background-color</span>: blue;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><p>三个 console 的结果分别为：</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2018/9/28/166203a2d62212c9?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" data-width="1050" data-height="254" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/166203a2d62212c9"><figcaption></figcaption></figure><p></p>
<p>注：本例仅使用了内联 JS 做测试。感兴趣的同学可以把这部分 JS 当做外部文件引入看看效果——它们的表现一致。</p>
<p>第一次尝试获取 id 为 container 的 DOM 失败，这说明 JS 执行时阻塞了 DOM，后续的 DOM 无法构建；第二次才成功，这说明脚本块只能找到在它前面构建好的元素。这两者结合起来，“阻塞 DOM”得到了验证。再看第三个 console，尝试获取 CSS 样式，获取到的是在 JS 代码执行前的背景色（yellow），而非后续设定的新样式（blue），说明 CSSOM 也被阻塞了。那么在阻塞的背后，到底发生了什么呢？</p>
<p>我们前面说过，<strong>JS 引擎是独立于渲染引擎存在的</strong>。我们的 JS 代码在文档的何处插入，就在何处执行。当 HTML 解析器遇到一个 script 标签时，它会暂停渲染过程，将控制权交给 JS 引擎。JS 引擎对内联的 JS 代码会直接执行，对外部 JS 文件还要先获取到脚本、再进行执行。等 JS 引擎运行完毕，浏览器又会把控制权还给渲染引擎，继续 CSSOM 和 DOM 的构建。 因此与其说是 JS 把 CSS 和 HTML 阻塞了，不如说是 JS 引擎抢走了渲染引擎的控制权。</p>
<p>现在理解了阻塞的表现与原理，我们开始思考一个问题。浏览器之所以让 JS 阻塞其它的活动，是因为它不知道 JS 会做什么改变，担心如果不阻止后续的操作，会造成混乱。但是我们是写 JS 的人，我们知道 JS 会做什么改变。假如我们可以确认一个 JS 文件的执行时机并不一定非要是此时此刻，我们就可以通过对它使用 defer 和 async 来避免不必要的阻塞，这里我们就引出了外部 JS 的三种加载方式。</p>
<h3 class="heading" data-id="heading-9">JS的三种加载方式</h3>
<ul>
<li>
<p>正常模式：</p>
<pre><code class="hljs html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"index.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></li>
</ul>
<p>这种情况下 JS 会阻塞浏览器，浏览器必须等待 index.js 加载和执行完毕才能去做其它事情。</p>
<ul>
<li>
<p>async 模式：</p>
<pre><code class="hljs html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">async</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"index.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></li>
</ul>
<p>async 模式下，JS 不会阻塞浏览器做任何其它的事情。它的加载是异步的，当它加载结束，JS 脚本会<strong>立即执行</strong>。</p>
<ul>
<li>
<p>defer 模式：</p>
<pre><code class="hljs html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"index.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></li>
</ul>
<p>defer 模式下，JS 的加载是异步的，执行是<strong>被推迟的</strong>。等整个文档解析完成、DOMContentLoaded 事件即将被触发时，被标记了 defer 的 JS 文件才会开始依次执行。</p>
<p>从应用的角度来说，一般当我们的脚本与 DOM 元素和其它脚本之间的依赖关系不强时，我们会选用 async；当脚本依赖于 DOM 元素和其它脚本的执行结果时，我们会选用 defer。</p>
<p>通过审时度势地向 script 标签添加 async/defer，我们就可以告诉浏览器在等待脚本可用期间不阻止其它的工作，这样可以显著提升性能。</p>
<h2 class="heading" data-id="heading-10">小结</h2>
<p>我们知道，当 JS 登场时，往往意味着对 DOM 的操作。DOM 操作所导致的性能开销的“昂贵”，大家可能早就有所耳闻，雅虎军规里很重要的一条就是“尽量减少 DOM 访问”。</p>
<p>那么 DOM 到底为什么慢，我们如何去规避这种慢呢？这里我们就引出了下一个章节需要重点解释的两个概念：CSS 中的回流（Reflow）与重绘（Repaint）。</p>
<p>（阅读过程中有任何想法或疑问，或者单纯希望和笔者交个朋友啥的，欢迎大家添加我的微信xyalinode与我交流哈~）</p>
</div><section data-v-6796091a="" class="book-comments"><div data-v-6796091a="" class="box-title">留言</div><div data-v-6796091a="" class="comment-box"><div data-v-ad67b3f4="" data-v-6796091a="" class="comment-form comment-form" id="comment"><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-ad67b3f4="" data-src="https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/7/22/16c185b30564d86b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div><div data-v-2ecde58e="" data-v-ad67b3f4="" class="auth-card"><!----><textarea data-v-ad67b3f4="" data-v-2ecde58e="" placeholder="评论将在后台进行审核，审核通过后对所有人可见" class="content-input" style="overflow: hidden; overflow-wrap: break-word; height: 60px;"></textarea></div><div data-v-ad67b3f4="" class="action-box" style="display: none;"><div data-v-43572e24="" data-v-ad67b3f4="" class="image-uploader image-uploader" style="display: none;"><input data-v-43572e24="" type="file" class="input"><button data-v-43572e24="" class="upload-btn"><i data-v-43572e24="" class="icon ion-image"></i><span data-v-43572e24="">上传图片</span></button></div><div data-v-ad67b3f4="" class="submit-box"><span data-v-ad67b3f4="" class="submit-text">Ctrl or ⌘ + Enter</span><button data-v-ad67b3f4="" class="submit-btn">评论</button></div></div><!----></div></div><ul data-v-795f23dc="" data-v-6796091a="" st:block="commentList" class="comment-list comment-list"><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b42167d5188251b1d4740b7" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b42167d5188251b1d4740b7" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e091d77c7a49bc07?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e091d77c7a49bc07?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b42167d5188251b1d4740b7" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b42167d5188251b1d4740b7" target="_blank" rel="" class="username" data-v-1d86e78f="">moayuisuda<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">css可以并行“加载&amp;执行”并阻塞在它后面的js的“执行”，但不会阻塞js的“加载”;
js的“加载&amp;执行”会阻塞后面的js、css“加载&amp;执行”，但不会阻塞图片资源的“加载”(这里貌似是因为浏览器有一种“预扫描”机制，可以提前获取资源);

都是在chrome环境下实践出来的.</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">15天前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5c3ff042e51d45522c3023c2" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5c3ff042e51d45522c3023c2" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e09bb636c3d43bcc?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09bb636c3d43bcc?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5c3ff042e51d45522c3023c2" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5c3ff042e51d45522c3023c2" target="_blank" rel="" class="username" data-v-1d86e78f="">T丶本尊<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">很细致，👍</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">27天前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5791712579bc440066163c50" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5791712579bc440066163c50" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/3/23/16251f875d4ec11d?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/3/23/16251f875d4ec11d?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5791712579bc440066163c50" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5791712579bc440066163c50" target="_blank" rel="" class="username" data-v-1d86e78f="">Goldbeener<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">出口转内销接口调用工程师</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">async 模式下仅仅加载js是异步的，不会阻塞渲染；但是执行js还是会阻塞渲染的</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">1</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">1月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bd848f36fb9a05d2659ad01" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5bd848f36fb9a05d2659ad01" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e095a9b73392a5b0?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e095a9b73392a5b0?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bd848f36fb9a05d2659ad01" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5bd848f36fb9a05d2659ad01" target="_blank" rel="" class="username" data-v-1d86e78f="">马小狗儿<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">web前端开发</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">想问下，笔者大大，浏览器的运行机制和渲染过程有比较权威的英文文档或者是参考文献吗，最近上网查资料，发现网友们众说纷纭，想看一下比较权威的英文原版什么的，求回复～～～</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">1月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b722f415188256114661f0d" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b722f415188256114661f0d" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e09345b433862726?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09345b433862726?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b722f415188256114661f0d" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b722f415188256114661f0d" target="_blank" rel="" class="username" data-v-1d86e78f="">Connie_豆<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">作者小可爱果然是个话痨，哈哈，讲的好详细！！
有种老师在台上讲课的感觉，哈哈哈</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">1</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">6月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a20471551882529642179dd" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5a20471551882529642179dd" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e08c1aa96b835d2b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e08c1aa96b835d2b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a20471551882529642179dd" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5a20471551882529642179dd" target="_blank" rel="" class="username" data-v-1d86e78f="">ForinArray<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">我认为这里可以讲一下 body尾部的js 在header里面资源加载完成后 这个js还没有加载完成 浏览器会进行一次提前渲染。从而提前首屏出现时间</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">8月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="596620c651882568d156ff82" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/596620c651882568d156ff82" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e08649d58b743242?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="596620c651882568d156ff82" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/596620c651882568d156ff82" target="_blank" rel="" class="username" data-v-1d86e78f="">Linhh<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">前端er @ 人生无限公司</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">请问一下，您说浏览器内核现在约等于渲染引擎，我在别处看到有的说法是浏览器内核是多线程的，其中包含渲染线程、JS引擎线程、定时器线程等等。那到底浏览器内核是啥？？？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">3</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">9月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57f63d8a128fe100544c5c79" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/5/29/16b01166023dc0f7?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57f63d8a128fe100544c5c79" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/57f63d8a128fe100544c5c79" target="_blank" rel="" class="username username" data-v-1d86e78f="">六只鱼<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><div data-v-9bacb4c6="" class="position">FE @ CVTE</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">浏览器架构如何，不同浏览器是不一样的，这里不存在任何标准。拿 Chrome 来说，他就是多进程架构。因此“内核”这一概念中的 HTML 解析器、CSS 解析器、网络、存储.......是可以单独以进程或者线程的方式运行的。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">7月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59de30726fb9a0451a755cfc" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/59de30726fb9a0451a755cfc" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59de30726fb9a0451a755cfc" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/59de30726fb9a0451a755cfc" target="_blank" rel="" class="username" data-v-1d86e78f="">哈浪<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">CSS 选择符是从右到左进行匹配的（我一直以为从左到右）。.myList_li {}，这样的情况是不是每个我要操作的标签都得给一个class吗？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">9月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5954eeee5188250d753a259c" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5954eeee5188250d753a259c" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e085a606c6af944a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5954eeee5188250d753a259c" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5954eeee5188250d753a259c" target="_blank" rel="" class="username" data-v-1d86e78f="">blankul<!----></a></div><div data-v-38ab5be4="" class="position">web前端开发 @ dtdream</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">myList#title
这个是什么意思，是不是少了一个“.”
.myList#title</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">对！myList是个什么鬼！ 改掉了！</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b420081e51d4519503afd51" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b420081e51d4519503afd51" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/12/18/167c00924671eae0?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b420081e51d4519503afd51" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b420081e51d4519503afd51" target="_blank" rel="" class="username" data-v-1d86e78f="">xue_<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">前端工程师</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">其实不是谁阻塞谁，HTML解析是上到下，内联的话怎么能是是阻塞，只能说还没解析到，如果是外链，解析到js的时候，才在请求阶段，是异步，浏览器继续解析。，至于css和HTML只能说确实要等等，不过有一个超时的时间，就不等了</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5be6f23151882528c4465324" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5be6f23151882528c4465324" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e096012844ea0e49?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5be6f23151882528c4465324" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5be6f23151882528c4465324" target="_blank" rel="" class="username" data-v-1d86e78f="">元不想说话<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">有尝试在网站里面写defer js，但是差别不是很大，最大的影响还是在css阻塞reflow，字体加载，图片过大，js如果放在body最下面其实已经够了</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59ba13fb5188256bd733c149" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/59ba13fb5188256bd733c149" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e089020a77da6600?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59ba13fb5188256bd733c149" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/59ba13fb5188256bd733c149" target="_blank" rel="" class="username" data-v-1d86e78f="">闹闹不爱闹<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">js会阻塞cssOM的构建吗？有点懵，之前看的资料是为了避免js获取到的css属性有误或者是过期的，cssDom构建完毕之前，js会暂停执行</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">10月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57a1fa0579bc4400549ee151" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2016/11/29/2354643a2b3f9eda9cf1db8c8c2176d6?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="57a1fa0579bc4400549ee151" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/57a1fa0579bc4400549ee151" target="_blank" rel="" class="username username" data-v-1d86e78f="">ITACHI<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 广东行远信息技术有限公司</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">的确是 CSS 会阻塞 JS 的执行</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5831bfa0128fe1006976d635" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://leancloud-gold-cdn.xitu.io/7653da18983f67e80e33.jpg?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://leancloud-gold-cdn.xitu.io/7653da18983f67e80e33.jpg?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5831bfa0128fe1006976d635" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5831bfa0128fe1006976d635" target="_blank" rel="" class="username username" data-v-1d86e78f="">默语摸鱼<!----></a></div><div data-v-9bacb4c6="" class="position">前端狗</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">因为js想操作CSSOM，那么必须有完整的CSSOM，如果这时CSSOM的构建还没完成，那浏览器会阻塞js优先完成CSSOM的构建。
作者的这个例子中js后面的那个style应该是属于重绘了吧🤣</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">9月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b89395ce51d4557631bfb9a" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5b89395ce51d4557631bfb9a" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e093d0a4735e25d7?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5b89395ce51d4557631bfb9a" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5b89395ce51d4557631bfb9a" target="_blank" rel="" class="username" data-v-1d86e78f="">opfeer<!----></a></div><div data-v-38ab5be4="" class="position">全网最菜的前端</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">使用async 异步加载，加载完成后立即执行，要是加载完成后，DOM会不会还没有解析完成，此时脚本执行会不会继续阻塞DOM的加载啊</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">2</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="59ba13fb5188256bd733c149" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e089020a77da6600?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="59ba13fb5188256bd733c149" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/59ba13fb5188256bd733c149" target="_blank" rel="" class="username username" data-v-1d86e78f="">闹闹不爱闹<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">async的加载是异步的，不阻塞的，但是执行还是同步的，也就是阻塞的</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e09464b7bf25a75b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5ba26d99e51d450e7a24d4c3" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5ba26d99e51d450e7a24d4c3" target="_blank" rel="" class="username username" data-v-1d86e78f="">贝贝不想说话<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">会阻塞</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">10月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="55f835dc60b2af39db1060cc" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://lc-gold-cdn.xitu.io/78cac06fbb2152715a84.jpg?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="55f835dc60b2af39db1060cc" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/55f835dc60b2af39db1060cc" target="_blank" rel="" class="username username" data-v-1d86e78f="">sialvsic<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><div data-v-9bacb4c6="" class="position">UI-Dev @ where</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">会阻塞</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">3月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="589d8ba6128fe100658664de" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/589d8ba6128fe100658664de" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/6/17/16b6375d501706de?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="589d8ba6128fe100658664de" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/589d8ba6128fe100658664de" target="_blank" rel="" class="username" data-v-1d86e78f="">黑化肥灰化肥发灰发黑会挥发<!----></a></div><div data-v-38ab5be4="" class="position">前端打字员</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">请教下async的方式是否无法保证按照引入顺序执行，是谁先好就先执行谁这样么？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="582d552da22b9d006b6c72eb" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/9/19/16d45a02b41b345b?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" data-v-1d86e78f="" style="background-image: none;"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="582d552da22b9d006b6c72eb" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/582d552da22b9d006b6c72eb" target="_blank" rel="" class="username username" data-v-1d86e78f="">尼古拉斯土豆子<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 找工作中</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">是的。只有defer可以保证异步加载后的JS按照引入顺序执行</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="589e961c2f301e0069cfe907" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/589e961c2f301e0069cfe907" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/1/31/168a19da8e0f782e?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="589e961c2f301e0069cfe907" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/589e961c2f301e0069cfe907" target="_blank" rel="" class="username" data-v-1d86e78f="">zenghongtu<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><div data-v-38ab5be4="" class="position">搬砖 @ 喜马拉雅</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">我们前面说过，JS 引擎是独立于渲染引擎存在的。我们的 JS 代码在文档的何处插入，就在何处执行。当 HTML 解析器遇到一个 script 标签时，它会暂停渲染过程，将控制权交给 JS 引擎。JS 引擎对内联的 JS 代码会直接执行，对外部 JS 文件还要先获取到脚本、再进行执行。等 JS 引擎运行完毕，浏览器又会把控制权还给渲染引擎，继续 CSSOM 和 DOM 的构建。 因此与其说是 JS 把 CSS 和 HTML 阻塞了，不如说是 JS 引擎抢走了渲染引擎的控制权。...

这一段感觉有点问题, js 是阻塞 html 解析,不会阻塞 css; css 在构建成CSSOM前会阻塞 js 执行</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">3</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5903d7f8a22b9d0065d4a767" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5903d7f8a22b9d0065d4a767" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5903d7f8a22b9d0065d4a767" target="_blank" rel="" class="username username" data-v-1d86e78f="">qianfang<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">怎么不会阻塞css?js可以操作DOM修改css</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">8月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="585770b761ff4b006869418c" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/585770b761ff4b006869418c" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2019/7/23/16c1c95af340a200?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="585770b761ff4b006869418c" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/585770b761ff4b006869418c" target="_blank" rel="" class="username" data-v-1d86e78f="">ttwhy<!----></a></div><div data-v-38ab5be4="" class="position">前端开发</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">不管是同步还是异步的加载，这两种方式是不是都不影响页面的渲染？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59bb40776fb9a00a5a31df1a" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/59bb40776fb9a00a5a31df1a" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/12/10/167963b6e8910e82?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/12/10/167963b6e8910e82?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="59bb40776fb9a00a5a31df1a" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/59bb40776fb9a00a5a31df1a" target="_blank" rel="" class="username" data-v-1d86e78f="">宜兴彭摆鱼<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-1.636691c.svg" alt="lv-1"></a></a></div><div data-v-38ab5be4="" class="position">前端小菜鸟</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">css放在html前面不是为了防止回流和重绘?</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">这里说的是初次渲染、构建Render Tree的过程。在这个过程中，浏览器是怎么处理CSS的呢？ 又是怎么处理HTML的呢？两者的关系是什么样的呢？建议仔细读读原文~</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a012923f265da432717a149" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5a012923f265da432717a149" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e08b2fd8e32edebf?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar" style="background-image: none;"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a012923f265da432717a149" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5a012923f265da432717a149" target="_blank" rel="" class="username" data-v-1d86e78f="">攻程狮_Nate<!----></a></div><div data-v-38ab5be4="" class="position">前端工程师</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">#container {
      backgroundColor: blue;
    }
这边不应是 background-color 么</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">2</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">已更正，写React写傻了。谢谢细心的你，赞！</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="586607d761ff4b00576867ae" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/586607d761ff4b00576867ae" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://leancloud-gold-cdn.xitu.io/RxKamIJvzFW75EkkisepPNA?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://leancloud-gold-cdn.xitu.io/RxKamIJvzFW75EkkisepPNA?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="586607d761ff4b00576867ae" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/586607d761ff4b00576867ae" target="_blank" rel="" class="username" data-v-1d86e78f="">劉凯里<a data-v-393e94cf="" data-v-750d9e76="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-393e94cf="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/lv-2.f597b88.svg" alt="lv-2"></a></a></div><div data-v-38ab5be4="" class="position">FE</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">reflow 翻译为“重排”是否更合适呢？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">1</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">这个是语言习惯问题哈，个人不太习惯“重x和重x”这样的绕口令式的讲解，觉得说回流区分度会更高一些。后面看大家的反馈如何，二期迭代会根据反馈情况考虑更名。</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bd676aee51d45231027e64e" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5bd676aee51d45231027e64e" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e0958ca5a1f5c06c?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e0958ca5a1f5c06c?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5bd676aee51d45231027e64e" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5bd676aee51d45231027e64e" target="_blank" rel="" class="username" data-v-1d86e78f="">sunnyBob<!----></a></div><div data-v-38ab5be4="" class="position"></div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">'被标记了 defer 的 JS 文件才会开始依次执行' &gt; 请教下添加了defer属性的多个script标签，如果dom加载完，但是有些脚本还未完全加载，那还会依次执行吗，会先跳过未加载完的，继续执行下个吗</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">11月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b3ed965e51d45194d4fbd72" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://mirror-gold-cdn.xitu.io/168e091c6c43c1f622f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e091c6c43c1f622f?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b3ed965e51d45194d4fbd72" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b3ed965e51d45194d4fbd72" target="_blank" rel="" class="username username" data-v-1d86e78f="">GENTAR RAY<!----></a></div><div data-v-9bacb4c6="" class="position">切图崽 @ 西瓜创客</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">多个script都使用defer是可以保证加载顺序的，会引起阻塞</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5939f290128fe1006ac47683" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5939f290128fe1006ac47683" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://mirror-gold-cdn.xitu.io/168e085326d05a2e500?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e085326d05a2e500?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5939f290128fe1006ac47683" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5939f290128fe1006ac47683" target="_blank" rel="" class="username" data-v-1d86e78f="">CoderAngus<!----></a></div><div data-v-38ab5be4="" class="position">前端</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">::before与::after应该是伪元素。<a href="http://www.alloyteam.com/2016/05/summary-of-pseudo-classes-and-pseudo-elements/" target="_blank" rel="nofollow noopener noreferrer">http://www.alloyteam.com/2016/05/summary-of-pseudo-classes-and-pseudo-elements/</a></span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">2</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">12月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">笔误，已更正。好细心的读者，点赞！</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b777f8e51882542e90bf3d3" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/26/166adf9b0a85b678?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/26/166adf9b0a85b678?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b777f8e51882542e90bf3d3" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b777f8e51882542e90bf3d3" target="_blank" rel="" class="username username" data-v-1d86e78f="">Aranl<!----></a></div><div data-v-9bacb4c6="" class="position">前端</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">莫名喜感</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="588f61580ce4630056d88a69" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/588f61580ce4630056d88a69" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://leancloud-gold-cdn.xitu.io/WWT1fpXO7e7iTl4jQETthvmDBSTMzVjfdMAOj2up?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://leancloud-gold-cdn.xitu.io/WWT1fpXO7e7iTl4jQETthvmDBSTMzVjfdMAOj2up?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="588f61580ce4630056d88a69" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/588f61580ce4630056d88a69" target="_blank" rel="" class="username" data-v-1d86e78f="">QianBi<!----></a></div><div data-v-38ab5be4="" class="position">打杂 @ 三流公司</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">放到最后加载是同步的加载，async和defer是异步的加载，至于async和defer的区别是加载执行的时机不同</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">5</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style="display: none;"></div></span><span data-v-38ab5be4="" class="date">12月前</span><!----></div><!----></div><!----></div></li><li data-v-795f23dc="" class="item"><div data-v-38ab5be4="" data-v-795f23dc="" class="comment"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a97c85851882555712bc108" class="user-popover-box"><!----><a data-v-38ab5be4="" href="https://juejin.im/user/5a97c85851882555712bc108" target="_blank" rel="" data-v-1d86e78f=""><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-38ab5be4="" data-src="https://user-gold-cdn.xitu.io/2018/4/10/162ad41c8edef334?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/4/10/162ad41c8edef334?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></a></div><div data-v-38ab5be4="" class="content-box"><div data-v-38ab5be4="" class="header"><div data-v-38ab5be4="" class="user-info"><div data-v-1d86e78f="" data-v-38ab5be4="" st:block="userPopover" st:state="5a97c85851882555712bc108" class="user-popover-box"><!----><a data-v-750d9e76="" data-v-38ab5be4="" href="https://juejin.im/user/5a97c85851882555712bc108" target="_blank" rel="" class="username" data-v-1d86e78f="">杀破狼real<!----></a></div><div data-v-38ab5be4="" class="position">高级前端开发工程师</div></div></div><div data-v-38ab5be4="" class="content"><!----><span data-v-38ab5be4="" class="content-html">在script标签里加上async/defer，和把整个script放到页面最后加载有什么区别么？</span><!----></div><div data-v-38ab5be4="" class="footer"><button data-v-38ab5be4="" class="like-btn"><i data-v-38ab5be4="" class="collection-arrow-ion ion-arrow-up-b"></i><span data-v-38ab5be4="">0</span></button><span data-v-38ab5be4="" class="sub-comment-btn text-pointer"><span data-v-38ab5be4="" class="title">收起评论</span><div data-v-38ab5be4="" class="sub-comment--arrow" style=""></div></span><span data-v-38ab5be4="" class="date">12月前</span><!----></div><div data-v-3d8f15e3="" data-v-38ab5be4="" class="sub-comment-box sub-comment-box"><div data-v-3d8f15e3="" class="sub-comment-box__top"><div data-v-3d8f15e3="" class="icon-close"></div><h3 data-v-3d8f15e3="">评论</h3></div><div data-v-3d8f15e3="" class="sub-comment-box__inner"><div data-v-3d8f15e3=""><ul data-v-3d8f15e3="" class="sub-comment-list"><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/10/1665bdd57017568a?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b8df4ef6fb9a019b421e11c" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b8df4ef6fb9a019b421e11c" target="_blank" rel="" class="username username" data-v-1d86e78f="">修言<!----></a></div><div data-v-9bacb4c6="" class="position">前端工程师 @ 某大型电商</div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">楼上@QianBi的回答你值得拥有~</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">11月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li><li data-v-3d8f15e3="" class="item"><div data-v-9bacb4c6="" data-v-3d8f15e3="" class="sub-comment sub-comment"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b4d454d6fb9a04fa91be28e" class="user-popover-box user-popover--avatar"><!----><div data-v-2519ebc9="" data-v-2eeeba5d="" data-v-9bacb4c6="" data-src="https://user-gold-cdn.xitu.io/2019/4/4/169e8218119fb518?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1" class="lazy avatar avatar loaded" data-v-1d86e78f="" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/4/4/169e8218119fb518?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1&quot;);"></div></div><div data-v-9bacb4c6="" class="content-box"><div data-v-9bacb4c6="" class="header"><div data-v-9bacb4c6="" class="user-info"><div data-v-1d86e78f="" data-v-9bacb4c6="" st:block="userPopover" st:state="5b4d454d6fb9a04fa91be28e" class="user-popover-box user-popover--info"><!----><a data-v-750d9e76="" data-v-9bacb4c6="" href="https://juejin.im/user/5b4d454d6fb9a04fa91be28e" target="_blank" rel="" class="username username" data-v-1d86e78f="">tattoohlp<!----></a></div><div data-v-9bacb4c6="" class="position"></div></div></div><div data-v-9bacb4c6="" class="content"><!----><span data-v-9bacb4c6="" class="content-html">加上anysc属性的js的加载和执行是对于文档来说都是异步的，加上defer属性的js对于文档来说，加载是异步的，但是执行是同步并且顺序执行的，是这样吗？</span><!----></div><div data-v-9bacb4c6="" class="footer"><span data-v-9bacb4c6="" class="date">8月前</span><a data-v-9bacb4c6="" class="reply-btn">回复</a><!----></div></div><!----></div></li></ul><!----></div><form data-v-3d8f15e3="" class="reply-form"><div data-v-2ecde58e="" data-v-3d8f15e3="" class="auth-card"><!----><textarea data-v-3d8f15e3="" data-v-2ecde58e="" rows="1" maxlength="1024" placeholder="评论审核通过后显示" style="overflow: hidden; overflow-wrap: break-word; height: 31px;"></textarea></div><button data-v-3d8f15e3="" class="reply-btn">评论</button></form></div></div></div><!----></div></li><!----></ul></section></div></div><!----><!----></div></div><div data-v-5a7972c3="" data-v-4ea4d930="" class="book-handle book-direction"><div data-v-5a7972c3="" class="step-btn step-btn--prev"><img data-v-5a7972c3="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/prev.87ad47e.svg"></div><div data-v-5a7972c3="" class="step-btn step-btn--next"><img data-v-5a7972c3="" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/next.54d8a35.svg"></div><!----><!----></div><!----></div></div></section><!----><!----><!----><div data-v-fa360b4a="" data-v-4ea4d930="" class="image-viewer-box"><!----></div></div><!----></div>
      
      
      <script type="text/javascript" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/runtime.17cb348ef7939a8ddc67.js"></script><script type="text/javascript" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/0.34b7731eda33454484c1.js"></script><script type="text/javascript" src="./7_渲染篇 2：知己知彼——解锁浏览器背后的运行机制_files/1.b93c59c13de60fb0e255.js"></script>
    </body></html>